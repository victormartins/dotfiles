'use babel';

function computeWordDiff(oldText, newText, isWhitespaceIgnored) {
  var JsDiff = require('diff');
  var wordDiff = JsDiff.diffWordsWithSpace(oldText, newText);

  var addedWords = [];
  var removedWords = [];

  // split into two lists: added + removed
  wordDiff.forEach(function (part) {
    if (part.added) {
      part.changed = true;
      addedWords.push(part);
    } else if (part.removed) {
      part.changed = true;
      removedWords.push(part);
    } else {
      addedWords.push(part);
      removedWords.push(part);
    }
  });

  return {
    addedWords: addedWords,
    removedWords: removedWords
  };
}

module.exports = {
  computeWordDiff: computeWordDiff
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy92aWN0b3IubWFydGlucy8uYXRvbS9wYWNrYWdlcy9naXQtdGltZS1tYWNoaW5lL25vZGVfbW9kdWxlcy9zcGxpdC1kaWZmL2xpYi9jb21wdXRlLXdvcmQtZGlmZi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxXQUFXLENBQUM7O0FBRVosU0FBUyxlQUFlLENBQUMsT0FBZSxFQUFFLE9BQWUsRUFBRSxtQkFBNEIsRUFBWTtBQUNqRyxNQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDN0IsTUFBSSxRQUFRLEdBQUcsTUFBTSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQzs7QUFFM0QsTUFBSSxVQUFVLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLE1BQUksWUFBWSxHQUFHLEVBQUUsQ0FBQzs7O0FBR3RCLFVBQVEsQ0FBQyxPQUFPLENBQUMsVUFBQSxJQUFJLEVBQUk7QUFDdkIsUUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO0FBQ2QsVUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7QUFDcEIsZ0JBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDdkIsTUFBTSxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7QUFDdkIsVUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7QUFDcEIsa0JBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDekIsTUFBTTtBQUNMLGdCQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3RCLGtCQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3pCO0dBQ0YsQ0FBQyxDQUFBOztBQUVGLFNBQU87QUFDTCxjQUFVLEVBQVYsVUFBVTtBQUNWLGdCQUFZLEVBQVosWUFBWTtHQUNiLENBQUM7Q0FDSDs7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHO0FBQ2YsaUJBQWUsRUFBZixlQUFlO0NBQ2hCLENBQUMiLCJmaWxlIjoiL1VzZXJzL3ZpY3Rvci5tYXJ0aW5zLy5hdG9tL3BhY2thZ2VzL2dpdC10aW1lLW1hY2hpbmUvbm9kZV9tb2R1bGVzL3NwbGl0LWRpZmYvbGliL2NvbXB1dGUtd29yZC1kaWZmLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCc7XG5cbmZ1bmN0aW9uIGNvbXB1dGVXb3JkRGlmZihvbGRUZXh0OiBzdHJpbmcsIG5ld1RleHQ6IHN0cmluZywgaXNXaGl0ZXNwYWNlSWdub3JlZDogYm9vbGVhbik6IFdvcmREaWZmIHtcbiAgdmFyIEpzRGlmZiA9IHJlcXVpcmUoJ2RpZmYnKTtcbiAgdmFyIHdvcmREaWZmID0gSnNEaWZmLmRpZmZXb3Jkc1dpdGhTcGFjZShvbGRUZXh0LCBuZXdUZXh0KTtcblxuICB2YXIgYWRkZWRXb3JkcyA9IFtdO1xuICB2YXIgcmVtb3ZlZFdvcmRzID0gW107XG5cbiAgLy8gc3BsaXQgaW50byB0d28gbGlzdHM6IGFkZGVkICsgcmVtb3ZlZFxuICB3b3JkRGlmZi5mb3JFYWNoKHBhcnQgPT4ge1xuICAgIGlmIChwYXJ0LmFkZGVkKSB7XG4gICAgICBwYXJ0LmNoYW5nZWQgPSB0cnVlO1xuICAgICAgYWRkZWRXb3Jkcy5wdXNoKHBhcnQpO1xuICAgIH0gZWxzZSBpZiAocGFydC5yZW1vdmVkKSB7XG4gICAgICBwYXJ0LmNoYW5nZWQgPSB0cnVlO1xuICAgICAgcmVtb3ZlZFdvcmRzLnB1c2gocGFydCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFkZGVkV29yZHMucHVzaChwYXJ0KTtcbiAgICAgIHJlbW92ZWRXb3Jkcy5wdXNoKHBhcnQpO1xuICAgIH1cbiAgfSlcblxuICByZXR1cm4ge1xuICAgIGFkZGVkV29yZHMsXG4gICAgcmVtb3ZlZFdvcmRzLFxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY29tcHV0ZVdvcmREaWZmXG59O1xuIl19
//# sourceURL=/Users/victor.martins/.atom/packages/git-time-machine/node_modules/split-diff/lib/compute-word-diff.js

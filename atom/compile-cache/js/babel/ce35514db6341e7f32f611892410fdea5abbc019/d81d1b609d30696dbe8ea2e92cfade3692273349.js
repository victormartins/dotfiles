var _templateObject = _taggedTemplateLiteral(['console.log("Hello World")\n          console.log(\'Hello World\')\n          console.log("Hello \'World\'")\n          console.log(\'Hello "World"\')\n          console.log(\'\')'], ['console.log("Hello World")\n          console.log(\'Hello World\')\n          console.log("Hello \'World\'")\n          console.log(\'Hello "World"\')\n          console.log(\'\')']),
    _templateObject2 = _taggedTemplateLiteral(['print(u"Hello World")\n          print(r\'\')'], ['print(u"Hello World")\n          print(r\'\')']);

function _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

var _libToggleQuotes = require('../lib/toggle-quotes');

var _libStringHelper = require('../lib/string-helper');

'use babel';

describe('ToggleQuotes', function () {
  beforeEach(function () {
    atom.config.set('toggle-quotes.quoteCharacters', '\'"');
  });

  describe('toggleQuotes(editor) js', function () {
    var editor = null;

    beforeEach(function () {
      waitsForPromise(function () {
        return atom.packages.activatePackage('language-javascript');
      });

      waitsForPromise(function () {
        return atom.packages.activatePackage('language-json');
      });

      waitsForPromise(function () {
        return atom.workspace.open();
      });

      runs(function () {
        editor = atom.workspace.getActiveTextEditor();
        editor.setText((0, _libStringHelper.raw)(_templateObject));
        editor.setGrammar(atom.grammars.selectGrammar('test.js'));
      });
    });

    describe('when the cursor is not inside a quoted string', function () {
      it('does nothing', function () {
        expect(function () {
          return (0, _libToggleQuotes.toggleQuotes)(editor);
        }).not.toThrow();
      });
    });

    describe('when the cursor is inside an empty single quoted string', function () {
      it('switches the quotes to double', function () {
        editor.setCursorBufferPosition([4, 13]);
        (0, _libToggleQuotes.toggleQuotes)(editor);
        expect(editor.lineTextForBufferRow(4)).toBe('console.log("")');
        expect(editor.getCursorBufferPosition()).toEqual([4, 13]);
      });
    });

    describe('when the cursor is inside a double quoted string', function () {
      describe('when using default config', function () {
        it('switches the double quotes to single quotes', function () {
          editor.setCursorBufferPosition([0, 16]);
          (0, _libToggleQuotes.toggleQuotes)(editor);
          expect(editor.lineTextForBufferRow(0)).toBe("console.log('Hello World')");
          expect(editor.getCursorBufferPosition()).toEqual([0, 16]);
        });
      });
    });

    describe('when using custom config of backticks', function () {
      it('switches the double quotes to backticks', function () {
        atom.config.set('toggle-quotes.quoteCharacters', '\'"`');
        editor.setCursorBufferPosition([0, 16]);
        (0, _libToggleQuotes.toggleQuotes)(editor);
        expect(editor.lineTextForBufferRow(0)).toBe('console.log(`Hello World`)');
        expect(editor.getCursorBufferPosition()).toEqual([0, 16]);
      });
    });

    describe('when the cursor is inside a single quoted string', function () {
      it('switches the quotes to double', function () {
        editor.setCursorBufferPosition([1, 16]);
        (0, _libToggleQuotes.toggleQuotes)(editor);
        expect(editor.lineTextForBufferRow(1)).toBe('console.log("Hello World")');
        expect(editor.getCursorBufferPosition()).toEqual([1, 16]);
      });
    });

    describe('when the cursor is inside a single-quoted string that is nested within a double quoted string', function () {
      it('switches the outer quotes to single and escapes the inner quotes', function () {
        editor.setCursorBufferPosition([2, 22]);
        (0, _libToggleQuotes.toggleQuotes)(editor);
        expect(editor.lineTextForBufferRow(2)).toBe("console.log('Hello \\'World\\'')");
        expect(editor.getCursorBufferPosition()).toEqual([2, 22]);

        (0, _libToggleQuotes.toggleQuotes)(editor);
        expect(editor.lineTextForBufferRow(2)).toBe('console.log("Hello \'World\'")');
      });
    });

    describe('when the cursor is inside a double-quoted string that is nested within a single quoted string', function () {
      it('switches the outer quotes to double and escapes the inner quotes', function () {
        editor.setCursorBufferPosition([3, 22]);
        (0, _libToggleQuotes.toggleQuotes)(editor);
        expect(editor.lineTextForBufferRow(3)).toBe('console.log("Hello \\"World\\"")');
        expect(editor.getCursorBufferPosition()).toEqual([3, 22]);

        (0, _libToggleQuotes.toggleQuotes)(editor);
        expect(editor.lineTextForBufferRow(3)).toBe("console.log('Hello \"World\"')");
      });
    });

    describe('when the cursor is inside multiple quoted strings', function () {
      it('switches the quotes of both quoted strings separately and leaves the cursors where they were, and does so atomically', function () {
        editor.setCursorBufferPosition([0, 16]);
        editor.addCursorAtBufferPosition([1, 16]);
        (0, _libToggleQuotes.toggleQuotes)(editor);
        expect(editor.lineTextForBufferRow(0)).toBe("console.log('Hello World')");
        expect(editor.lineTextForBufferRow(1)).toBe('console.log("Hello World")');
        expect(editor.getCursors()[0].getBufferPosition()).toEqual([0, 16]);
        expect(editor.getCursors()[1].getBufferPosition()).toEqual([1, 16]);

        editor.undo();
        expect(editor.lineTextForBufferRow(0)).toBe('console.log("Hello World")');
        expect(editor.lineTextForBufferRow(1)).toBe("console.log('Hello World')");
        expect(editor.getCursors()[0].getBufferPosition()).toEqual([0, 16]);
        expect(editor.getCursors()[1].getBufferPosition()).toEqual([1, 16]);
      });
    });

    describe('when the cursor is on an invalid region', function () {
      describe('when it is quoted', function () {
        it('toggles the quotes', function () {
          editor.setGrammar(atom.grammars.selectGrammar('test.json'));
          editor.setText("{'invalid': true}");
          editor.setCursorBufferPosition([0, 4]);
          (0, _libToggleQuotes.toggleQuotes)(editor);
          expect(editor.getText()).toBe('{"invalid": true}');
        });
      });

      describe('when it is not quoted', function () {
        it('does not toggle the quotes', function () {
          editor.setGrammar(atom.grammars.selectGrammar('test.json'));
          editor.setText('{invalid: true}');
          editor.setCursorBufferPosition([0, 4]);
          (0, _libToggleQuotes.toggleQuotes)(editor);
          expect(editor.getText()).toBe('{invalid: true}');
        });
      });
    });
  });

  describe('toggleQuotes(editor) python', function () {
    var editor = null;

    beforeEach(function () {
      waitsForPromise(function () {
        return atom.packages.activatePackage('language-python');
      });

      waitsForPromise(function () {
        return atom.workspace.open();
      });

      runs(function () {
        editor = atom.workspace.getActiveTextEditor();
        editor.setText((0, _libStringHelper.raw)(_templateObject2));
        editor.setGrammar(atom.grammars.selectGrammar('test.py'));
      });
    });

    describe('when cursor is inside a double quoted unicode string', function () {
      it('switches quotes to single excluding unicode character', function () {
        editor.setCursorBufferPosition([0, 16]);
        (0, _libToggleQuotes.toggleQuotes)(editor);
        expect(editor.lineTextForBufferRow(0)).toBe("print(u'Hello World')");
        expect(editor.getCursorBufferPosition()).toEqual([0, 16]);
      });
    });

    describe('when cursor is inside an empty single quoted raw string', function () {
      it('switches quotes to double', function () {
        editor.setCursorBufferPosition([1, 8]);
        (0, _libToggleQuotes.toggleQuotes)(editor);
        expect(editor.lineTextForBufferRow(1)).toBe('print(r"")');
        expect(editor.getCursorBufferPosition()).toEqual([1, 8]);
      });
    });
  });

  it('activates when a command is triggered', function () {
    var activatePromise = atom.packages.activatePackage('toggle-quotes');

    waitsForPromise(function () {
      return atom.workspace.open();
    });

    runs(function () {
      var editor = atom.workspace.getActiveTextEditor();
      atom.commands.dispatch(atom.views.getView(editor), 'toggle-quotes:toggle');
    });

    waitsForPromise(function () {
      return activatePromise;
    });
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy92aWN0b3IubWFydGlucy8uYXRvbS9wYWNrYWdlcy90b2dnbGUtcXVvdGVzL3NwZWMvdG9nZ2xlLXF1b3Rlcy1zcGVjLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OytCQUUyQixzQkFBc0I7OytCQUMxQixzQkFBc0I7O0FBSDdDLFdBQVcsQ0FBQTs7QUFLWCxRQUFRLENBQUMsY0FBYyxFQUFFLFlBQU07QUFDN0IsWUFBVSxDQUFDLFlBQU07QUFDZixRQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQywrQkFBK0IsRUFBRSxLQUFLLENBQUMsQ0FBQTtHQUN4RCxDQUFDLENBQUE7O0FBRUYsVUFBUSxDQUFDLHlCQUF5QixFQUFFLFlBQU07QUFDeEMsUUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFBOztBQUVqQixjQUFVLENBQUMsWUFBTTtBQUNmLHFCQUFlLENBQUMsWUFBTTtBQUNwQixlQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDLHFCQUFxQixDQUFDLENBQUE7T0FDNUQsQ0FBQyxDQUFBOztBQUVGLHFCQUFlLENBQUMsWUFBTTtBQUNwQixlQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDLGVBQWUsQ0FBQyxDQUFBO09BQ3RELENBQUMsQ0FBQTs7QUFFRixxQkFBZSxDQUFDLFlBQU07QUFDcEIsZUFBTyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFBO09BQzdCLENBQUMsQ0FBQTs7QUFFRixVQUFJLENBQUMsWUFBTTtBQUNULGNBQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLG1CQUFtQixFQUFFLENBQUE7QUFDN0MsY0FBTSxDQUFDLE9BQU8sNENBTWIsQ0FBQTtBQUNELGNBQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQTtPQUMxRCxDQUFDLENBQUE7S0FDSCxDQUFDLENBQUE7O0FBRUYsWUFBUSxDQUFDLCtDQUEr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QyxDQUFBIiwiZmlsZSI6Ii9Vc2Vycy92aWN0b3IubWFydGlucy8uYXRvbS9wYWNrYWdlcy90b2dnbGUtcXVvdGVzL3NwZWMvdG9nZ2xlLXF1b3Rlcy1zcGVjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCdcblxuaW1wb3J0IHt0b2dnbGVRdW90ZXN9IGZyb20gJy4uL2xpYi90b2dnbGUtcXVvdGVzJ1xuaW1wb3J0IHtyYXcgYXMgcn0gZnJvbSAnLi4vbGliL3N0cmluZy1oZWxwZXInXG5cbmRlc2NyaWJlKCdUb2dnbGVRdW90ZXMnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGF0b20uY29uZmlnLnNldCgndG9nZ2xlLXF1b3Rlcy5xdW90ZUNoYXJhY3RlcnMnLCAnXFwnXCInKVxuICB9KVxuXG4gIGRlc2NyaWJlKCd0b2dnbGVRdW90ZXMoZWRpdG9yKSBqcycsICgpID0+IHtcbiAgICBsZXQgZWRpdG9yID0gbnVsbFxuXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICB3YWl0c0ZvclByb21pc2UoKCkgPT4ge1xuICAgICAgICByZXR1cm4gYXRvbS5wYWNrYWdlcy5hY3RpdmF0ZVBhY2thZ2UoJ2xhbmd1YWdlLWphdmFzY3JpcHQnKVxuICAgICAgfSlcblxuICAgICAgd2FpdHNGb3JQcm9taXNlKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIGF0b20ucGFja2FnZXMuYWN0aXZhdGVQYWNrYWdlKCdsYW5ndWFnZS1qc29uJylcbiAgICAgIH0pXG5cbiAgICAgIHdhaXRzRm9yUHJvbWlzZSgoKSA9PiB7XG4gICAgICAgIHJldHVybiBhdG9tLndvcmtzcGFjZS5vcGVuKClcbiAgICAgIH0pXG5cbiAgICAgIHJ1bnMoKCkgPT4ge1xuICAgICAgICBlZGl0b3IgPSBhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVUZXh0RWRpdG9yKClcbiAgICAgICAgZWRpdG9yLnNldFRleHQoXG4gICAgICAgICAgcmBjb25zb2xlLmxvZyhcIkhlbGxvIFdvcmxkXCIpXG4gICAgICAgICAgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJylcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkhlbGxvICdXb3JsZCdcIilcbiAgICAgICAgICBjb25zb2xlLmxvZygnSGVsbG8gXCJXb3JsZFwiJylcbiAgICAgICAgICBjb25zb2xlLmxvZygnJylgXG4gICAgICAgIClcbiAgICAgICAgZWRpdG9yLnNldEdyYW1tYXIoYXRvbS5ncmFtbWFycy5zZWxlY3RHcmFtbWFyKCd0ZXN0LmpzJykpXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBkZXNjcmliZSgnd2hlbiB0aGUgY3Vyc29yIGlzIG5vdCBpbnNpZGUgYSBxdW90ZWQgc3RyaW5nJywgKCkgPT4ge1xuICAgICAgaXQoJ2RvZXMgbm90aGluZycsICgpID0+IHtcbiAgICAgICAgZXhwZWN0KCgpID0+IHRvZ2dsZVF1b3RlcyhlZGl0b3IpKS5ub3QudG9UaHJvdygpXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBkZXNjcmliZSgnd2hlbiB0aGUgY3Vyc29yIGlzIGluc2lkZSBhbiBlbXB0eSBzaW5nbGUgcXVvdGVkIHN0cmluZycsICgpID0+IHtcbiAgICAgIGl0KCdzd2l0Y2hlcyB0aGUgcXVvdGVzIHRvIGRvdWJsZScsICgpID0+IHtcbiAgICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFs0LCAxM10pXG4gICAgICAgIHRvZ2dsZVF1b3RlcyhlZGl0b3IpXG4gICAgICAgIGV4cGVjdChlZGl0b3IubGluZVRleHRGb3JCdWZmZXJSb3coNCkpLnRvQmUoJ2NvbnNvbGUubG9nKFwiXCIpJylcbiAgICAgICAgZXhwZWN0KGVkaXRvci5nZXRDdXJzb3JCdWZmZXJQb3NpdGlvbigpKS50b0VxdWFsKFs0LCAxM10pXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBkZXNjcmliZSgnd2hlbiB0aGUgY3Vyc29yIGlzIGluc2lkZSBhIGRvdWJsZSBxdW90ZWQgc3RyaW5nJywgKCkgPT4ge1xuICAgICAgZGVzY3JpYmUoJ3doZW4gdXNpbmcgZGVmYXVsdCBjb25maWcnLCAoKSA9PiB7XG4gICAgICAgIGl0KCdzd2l0Y2hlcyB0aGUgZG91YmxlIHF1b3RlcyB0byBzaW5nbGUgcXVvdGVzJywgKCkgPT4ge1xuICAgICAgICAgIGVkaXRvci5zZXRDdXJzb3JCdWZmZXJQb3NpdGlvbihbMCwgMTZdKVxuICAgICAgICAgIHRvZ2dsZVF1b3RlcyhlZGl0b3IpXG4gICAgICAgICAgZXhwZWN0KGVkaXRvci5saW5lVGV4dEZvckJ1ZmZlclJvdygwKSkudG9CZShcImNvbnNvbGUubG9nKCdIZWxsbyBXb3JsZCcpXCIpXG4gICAgICAgICAgZXhwZWN0KGVkaXRvci5nZXRDdXJzb3JCdWZmZXJQb3NpdGlvbigpKS50b0VxdWFsKFswLCAxNl0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBkZXNjcmliZSgnd2hlbiB1c2luZyBjdXN0b20gY29uZmlnIG9mIGJhY2t0aWNrcycsICgpID0+IHtcbiAgICAgIGl0KCdzd2l0Y2hlcyB0aGUgZG91YmxlIHF1b3RlcyB0byBiYWNrdGlja3MnLCAoKSA9PiB7XG4gICAgICAgIGF0b20uY29uZmlnLnNldCgndG9nZ2xlLXF1b3Rlcy5xdW90ZUNoYXJhY3RlcnMnLCAnXFwnXCJgJylcbiAgICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFswLCAxNl0pXG4gICAgICAgIHRvZ2dsZVF1b3RlcyhlZGl0b3IpXG4gICAgICAgIGV4cGVjdChlZGl0b3IubGluZVRleHRGb3JCdWZmZXJSb3coMCkpLnRvQmUoJ2NvbnNvbGUubG9nKGBIZWxsbyBXb3JsZGApJylcbiAgICAgICAgZXhwZWN0KGVkaXRvci5nZXRDdXJzb3JCdWZmZXJQb3NpdGlvbigpKS50b0VxdWFsKFswLCAxNl0pXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBkZXNjcmliZSgnd2hlbiB0aGUgY3Vyc29yIGlzIGluc2lkZSBhIHNpbmdsZSBxdW90ZWQgc3RyaW5nJywgKCkgPT4ge1xuICAgICAgaXQoJ3N3aXRjaGVzIHRoZSBxdW90ZXMgdG8gZG91YmxlJywgKCkgPT4ge1xuICAgICAgICBlZGl0b3Iuc2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oWzEsIDE2XSlcbiAgICAgICAgdG9nZ2xlUXVvdGVzKGVkaXRvcilcbiAgICAgICAgZXhwZWN0KGVkaXRvci5saW5lVGV4dEZvckJ1ZmZlclJvdygxKSkudG9CZSgnY29uc29sZS5sb2coXCJIZWxsbyBXb3JsZFwiKScpXG4gICAgICAgIGV4cGVjdChlZGl0b3IuZ2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oKSkudG9FcXVhbChbMSwgMTZdKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgZGVzY3JpYmUoJ3doZW4gdGhlIGN1cnNvciBpcyBpbnNpZGUgYSBzaW5nbGUtcXVvdGVkIHN0cmluZyB0aGF0IGlzIG5lc3RlZCB3aXRoaW4gYSBkb3VibGUgcXVvdGVkIHN0cmluZycsICgpID0+IHtcbiAgICAgIGl0KCdzd2l0Y2hlcyB0aGUgb3V0ZXIgcXVvdGVzIHRvIHNpbmdsZSBhbmQgZXNjYXBlcyB0aGUgaW5uZXIgcXVvdGVzJywgKCkgPT4ge1xuICAgICAgICBlZGl0b3Iuc2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oWzIsIDIyXSlcbiAgICAgICAgdG9nZ2xlUXVvdGVzKGVkaXRvcilcbiAgICAgICAgZXhwZWN0KGVkaXRvci5saW5lVGV4dEZvckJ1ZmZlclJvdygyKSkudG9CZShcImNvbnNvbGUubG9nKCdIZWxsbyBcXFxcJ1dvcmxkXFxcXCcnKVwiKVxuICAgICAgICBleHBlY3QoZWRpdG9yLmdldEN1cnNvckJ1ZmZlclBvc2l0aW9uKCkpLnRvRXF1YWwoWzIsIDIyXSlcblxuICAgICAgICB0b2dnbGVRdW90ZXMoZWRpdG9yKVxuICAgICAgICBleHBlY3QoZWRpdG9yLmxpbmVUZXh0Rm9yQnVmZmVyUm93KDIpKS50b0JlKCdjb25zb2xlLmxvZyhcIkhlbGxvIFxcJ1dvcmxkXFwnXCIpJylcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGRlc2NyaWJlKCd3aGVuIHRoZSBjdXJzb3IgaXMgaW5zaWRlIGEgZG91YmxlLXF1b3RlZCBzdHJpbmcgdGhhdCBpcyBuZXN0ZWQgd2l0aGluIGEgc2luZ2xlIHF1b3RlZCBzdHJpbmcnLCAoKSA9PiB7XG4gICAgICBpdCgnc3dpdGNoZXMgdGhlIG91dGVyIHF1b3RlcyB0byBkb3VibGUgYW5kIGVzY2FwZXMgdGhlIGlubmVyIHF1b3RlcycsICgpID0+IHtcbiAgICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFszLCAyMl0pXG4gICAgICAgIHRvZ2dsZVF1b3RlcyhlZGl0b3IpXG4gICAgICAgIGV4cGVjdChlZGl0b3IubGluZVRleHRGb3JCdWZmZXJSb3coMykpLnRvQmUoJ2NvbnNvbGUubG9nKFwiSGVsbG8gXFxcXFwiV29ybGRcXFxcXCJcIiknKVxuICAgICAgICBleHBlY3QoZWRpdG9yLmdldEN1cnNvckJ1ZmZlclBvc2l0aW9uKCkpLnRvRXF1YWwoWzMsIDIyXSlcblxuICAgICAgICB0b2dnbGVRdW90ZXMoZWRpdG9yKVxuICAgICAgICBleHBlY3QoZWRpdG9yLmxpbmVUZXh0Rm9yQnVmZmVyUm93KDMpKS50b0JlKFwiY29uc29sZS5sb2coJ0hlbGxvIFxcXCJXb3JsZFxcXCInKVwiKVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgZGVzY3JpYmUoJ3doZW4gdGhlIGN1cnNvciBpcyBpbnNpZGUgbXVsdGlwbGUgcXVvdGVkIHN0cmluZ3MnLCAoKSA9PiB7XG4gICAgICBpdCgnc3dpdGNoZXMgdGhlIHF1b3RlcyBvZiBib3RoIHF1b3RlZCBzdHJpbmdzIHNlcGFyYXRlbHkgYW5kIGxlYXZlcyB0aGUgY3Vyc29ycyB3aGVyZSB0aGV5IHdlcmUsIGFuZCBkb2VzIHNvIGF0b21pY2FsbHknLCAoKSA9PiB7XG4gICAgICAgIGVkaXRvci5zZXRDdXJzb3JCdWZmZXJQb3NpdGlvbihbMCwgMTZdKVxuICAgICAgICBlZGl0b3IuYWRkQ3Vyc29yQXRCdWZmZXJQb3NpdGlvbihbMSwgMTZdKVxuICAgICAgICB0b2dnbGVRdW90ZXMoZWRpdG9yKVxuICAgICAgICBleHBlY3QoZWRpdG9yLmxpbmVUZXh0Rm9yQnVmZmVyUm93KDApKS50b0JlKFwiY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJylcIilcbiAgICAgICAgZXhwZWN0KGVkaXRvci5saW5lVGV4dEZvckJ1ZmZlclJvdygxKSkudG9CZSgnY29uc29sZS5sb2coXCJIZWxsbyBXb3JsZFwiKScpXG4gICAgICAgIGV4cGVjdChlZGl0b3IuZ2V0Q3Vyc29ycygpWzBdLmdldEJ1ZmZlclBvc2l0aW9uKCkpLnRvRXF1YWwoWzAsIDE2XSlcbiAgICAgICAgZXhwZWN0KGVkaXRvci5nZXRDdXJzb3JzKClbMV0uZ2V0QnVmZmVyUG9zaXRpb24oKSkudG9FcXVhbChbMSwgMTZdKVxuXG4gICAgICAgIGVkaXRvci51bmRvKClcbiAgICAgICAgZXhwZWN0KGVkaXRvci5saW5lVGV4dEZvckJ1ZmZlclJvdygwKSkudG9CZSgnY29uc29sZS5sb2coXCJIZWxsbyBXb3JsZFwiKScpXG4gICAgICAgIGV4cGVjdChlZGl0b3IubGluZVRleHRGb3JCdWZmZXJSb3coMSkpLnRvQmUoXCJjb25zb2xlLmxvZygnSGVsbG8gV29ybGQnKVwiKVxuICAgICAgICBleHBlY3QoZWRpdG9yLmdldEN1cnNvcnMoKVswXS5nZXRCdWZmZXJQb3NpdGlvbigpKS50b0VxdWFsKFswLCAxNl0pXG4gICAgICAgIGV4cGVjdChlZGl0b3IuZ2V0Q3Vyc29ycygpWzFdLmdldEJ1ZmZlclBvc2l0aW9uKCkpLnRvRXF1YWwoWzEsIDE2XSlcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGRlc2NyaWJlKCd3aGVuIHRoZSBjdXJzb3IgaXMgb24gYW4gaW52YWxpZCByZWdpb24nLCAoKSA9PiB7XG4gICAgICBkZXNjcmliZSgnd2hlbiBpdCBpcyBxdW90ZWQnLCAoKSA9PiB7XG4gICAgICAgIGl0KCd0b2dnbGVzIHRoZSBxdW90ZXMnLCAoKSA9PiB7XG4gICAgICAgICAgZWRpdG9yLnNldEdyYW1tYXIoYXRvbS5ncmFtbWFycy5zZWxlY3RHcmFtbWFyKCd0ZXN0Lmpzb24nKSlcbiAgICAgICAgICBlZGl0b3Iuc2V0VGV4dChcInsnaW52YWxpZCc6IHRydWV9XCIpXG4gICAgICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFswLCA0XSlcbiAgICAgICAgICB0b2dnbGVRdW90ZXMoZWRpdG9yKVxuICAgICAgICAgIGV4cGVjdChlZGl0b3IuZ2V0VGV4dCgpKS50b0JlKCd7XCJpbnZhbGlkXCI6IHRydWV9JylcbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAgIGRlc2NyaWJlKCd3aGVuIGl0IGlzIG5vdCBxdW90ZWQnLCAoKSA9PiB7XG4gICAgICAgIGl0KCdkb2VzIG5vdCB0b2dnbGUgdGhlIHF1b3RlcycsICgpID0+IHtcbiAgICAgICAgICBlZGl0b3Iuc2V0R3JhbW1hcihhdG9tLmdyYW1tYXJzLnNlbGVjdEdyYW1tYXIoJ3Rlc3QuanNvbicpKVxuICAgICAgICAgIGVkaXRvci5zZXRUZXh0KCd7aW52YWxpZDogdHJ1ZX0nKVxuICAgICAgICAgIGVkaXRvci5zZXRDdXJzb3JCdWZmZXJQb3NpdGlvbihbMCwgNF0pXG4gICAgICAgICAgdG9nZ2xlUXVvdGVzKGVkaXRvcilcbiAgICAgICAgICBleHBlY3QoZWRpdG9yLmdldFRleHQoKSkudG9CZSgne2ludmFsaWQ6IHRydWV9JylcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgndG9nZ2xlUXVvdGVzKGVkaXRvcikgcHl0aG9uJywgKCkgPT4ge1xuICAgIGxldCBlZGl0b3IgPSBudWxsXG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIHdhaXRzRm9yUHJvbWlzZSgoKSA9PiB7XG4gICAgICAgIHJldHVybiBhdG9tLnBhY2thZ2VzLmFjdGl2YXRlUGFja2FnZSgnbGFuZ3VhZ2UtcHl0aG9uJylcbiAgICAgIH0pXG5cbiAgICAgIHdhaXRzRm9yUHJvbWlzZSgoKSA9PiB7XG4gICAgICAgIHJldHVybiBhdG9tLndvcmtzcGFjZS5vcGVuKClcbiAgICAgIH0pXG5cbiAgICAgIHJ1bnMoKCkgPT4ge1xuICAgICAgICBlZGl0b3IgPSBhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVUZXh0RWRpdG9yKClcbiAgICAgICAgZWRpdG9yLnNldFRleHQoXG4gICAgICAgICAgcmBwcmludCh1XCJIZWxsbyBXb3JsZFwiKVxuICAgICAgICAgIHByaW50KHInJylgXG4gICAgICAgIClcbiAgICAgICAgZWRpdG9yLnNldEdyYW1tYXIoYXRvbS5ncmFtbWFycy5zZWxlY3RHcmFtbWFyKCd0ZXN0LnB5JykpXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBkZXNjcmliZSgnd2hlbiBjdXJzb3IgaXMgaW5zaWRlIGEgZG91YmxlIHF1b3RlZCB1bmljb2RlIHN0cmluZycsICgpID0+IHtcbiAgICAgIGl0KCdzd2l0Y2hlcyBxdW90ZXMgdG8gc2luZ2xlIGV4Y2x1ZGluZyB1bmljb2RlIGNoYXJhY3RlcicsICgpID0+IHtcbiAgICAgICAgZWRpdG9yLnNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKFswLCAxNl0pXG4gICAgICAgIHRvZ2dsZVF1b3RlcyhlZGl0b3IpXG4gICAgICAgIGV4cGVjdChlZGl0b3IubGluZVRleHRGb3JCdWZmZXJSb3coMCkpLnRvQmUoXCJwcmludCh1J0hlbGxvIFdvcmxkJylcIilcbiAgICAgICAgZXhwZWN0KGVkaXRvci5nZXRDdXJzb3JCdWZmZXJQb3NpdGlvbigpKS50b0VxdWFsKFswLCAxNl0pXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBkZXNjcmliZSgnd2hlbiBjdXJzb3IgaXMgaW5zaWRlIGFuIGVtcHR5IHNpbmdsZSBxdW90ZWQgcmF3IHN0cmluZycsICgpID0+IHtcbiAgICAgIGl0KCdzd2l0Y2hlcyBxdW90ZXMgdG8gZG91YmxlJywgKCkgPT4ge1xuICAgICAgICBlZGl0b3Iuc2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oWzEsIDhdKVxuICAgICAgICB0b2dnbGVRdW90ZXMoZWRpdG9yKVxuICAgICAgICBleHBlY3QoZWRpdG9yLmxpbmVUZXh0Rm9yQnVmZmVyUm93KDEpKS50b0JlKCdwcmludChyXCJcIiknKVxuICAgICAgICBleHBlY3QoZWRpdG9yLmdldEN1cnNvckJ1ZmZlclBvc2l0aW9uKCkpLnRvRXF1YWwoWzEsIDhdKVxuICAgICAgfSlcbiAgICB9KVxuICB9KVxuXG4gIGl0KCdhY3RpdmF0ZXMgd2hlbiBhIGNvbW1hbmQgaXMgdHJpZ2dlcmVkJywgKCkgPT4ge1xuICAgIGxldCBhY3RpdmF0ZVByb21pc2UgPSBhdG9tLnBhY2thZ2VzLmFjdGl2YXRlUGFja2FnZSgndG9nZ2xlLXF1b3RlcycpXG5cbiAgICB3YWl0c0ZvclByb21pc2UoKCkgPT4ge1xuICAgICAgcmV0dXJuIGF0b20ud29ya3NwYWNlLm9wZW4oKVxuICAgIH0pXG5cbiAgICBydW5zKCgpID0+IHtcbiAgICAgIGxldCBlZGl0b3IgPSBhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVUZXh0RWRpdG9yKClcbiAgICAgIGF0b20uY29tbWFuZHMuZGlzcGF0Y2goYXRvbS52aWV3cy5nZXRWaWV3KGVkaXRvciksICd0b2dnbGUtcXVvdGVzOnRvZ2dsZScpXG4gICAgfSlcblxuICAgIHdhaXRzRm9yUHJvbWlzZSgoKSA9PiB7IHJldHVybiBhY3RpdmF0ZVByb21pc2UgfSlcbiAgfSlcbn0pXG4iXX0=
//# sourceURL=/Users/victor.martins/.atom/packages/toggle-quotes/spec/toggle-quotes-spec.js

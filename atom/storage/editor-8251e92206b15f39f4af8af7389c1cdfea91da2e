{"mode":"editor","version":1,"windowDimensions":{"x":4,"y":23,"width":1436,"height":877,"maximized":true},"grammars":{"deserializer":"GrammarRegistry","grammarOverridesByPath":{}},"project":{"paths":["/Users/victor.martins/Desktop"],"buffers":[{"text":"@business.sales_day_book_entries.                                                                            # 1 -  sales_day_book_report #ledger_entries_base_query. Will use the default_scope in day_book_entry.rb\n  joins(:transaction_record).                                                                                # 2 - this is the non_corrected scope in ledger_entry.rb that is called by the default_scope in day_book_entry.rb\n  where(\"NOT transactions.is_corrected\").                                                                    # 2\n  where(:corrected_with_updated => false).                                                                   # 2\n  where('transactions.origin_type <> ?', AdvancedUk::Correction.name).                                       # 2\n  joins(:transaction_record => [:transaction_type]).                                                         # 3 - additional conditions added by default_scope in day_book_entry.rb\n  includes(:transaction_record => [:transaction_type, :origin]).                                             # 3\n  order('ledger_entries.date ASC').                                                                          # 3\n\n\n  joins(\"LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id\").                               # 4 - addional conditions added by the #report_query in day_book_report.rb\n  where(\"transactions.transaction_type_id IN (?) AND is_allocator = true\", transaction_type_ids).            # 4\n\n\n\n\n\n\n\n\n== MASTER ==============================================================================================================================================\n1\n@business.sales_day_book_entries.sum('dr - cr')\n=> 0\n\n1 + 2\n@business.sales_day_book_entries.joins(:transaction).where(\"NOT transactions.is_corrected\").where(:corrected_with_updated => false).where(:corrected_with_updated => false).where('transactions.origin_type <> ?', AdvancedUk::Correction.name).sum('dr - cr')\n=> \"0\"\n\n1 + 2 + 3\n@business.sales_day_book_entries.joins(:transaction).where(\"NOT transactions.is_corrected\").where(:corrected_with_updated => false).where(:corrected_with_updated => false).where('transactions.origin_type <> ?', AdvancedUk::Correction.name).joins(:transaction => [:transaction_type]).includes(:transaction => [:transaction_type, :origin]).order('ledger_entries.date ASC').sum('dr - cr')\n=> \"0\"\n(Query without the sum)\n=>  \"SELECT `ledger_entries`.* FROM `ledger_entries` INNER JOIN `transactions` ON `transactions`.`id` = `ledger_entries`.`transaction_id` INNER JOIN `transaction_types` ON `transaction_types`.`id` = `transactions`.`transaction_type_id` WHERE `ledger_entries`.`business_id` = 1 AND `ledger_entries`.`corrected_with_updated` = 0 AND `ledger_entries`.`corrected_with_updated` = 0 AND (NOT transactions.is_corrected) AND (transactions.origin_type <> 'AdvancedUk::Correction') ORDER BY ledger_entries.date ASC\"\n\n\n\n\n\n\n== SOP_V2_UPGRADE ==============================================================================================================================================\n1\n@business.sales_day_book_entries.sum('dr - cr')\n=> 0\n\n1 + 2\n@business.sales_day_book_entries.joins(:transaction_record).where(\"NOT transactions.is_corrected\").where(:corrected_with_updated => false).where(:corrected_with_updated => false).where('transactions.origin_type <> ?', AdvancedUk::Correction.name).sum('dr - cr')\n=> 0\n\n1 + 2 + 3\n@business.sales_day_book_entries.joins(:transaction_record).where(\"NOT transactions.is_corrected\").where(:corrected_with_updated => false).where(:corrected_with_updated => false).where('transactions.origin_type <> ?', AdvancedUk::Correction.name).joins(:transaction_record => [:transaction_type]).includes(:transaction_record => [:transaction_type, :origin]).order('ledger_entries.date ASC').sum('dr - cr')\n=> ActiveRecord::EagerLoadPolymorphicError: Cannot eagerly load the polymorphic association :origin\n(Query without the sum)\n=> \"SELECT `ledger_entries`.* FROM `ledger_entries` INNER JOIN `transactions` ON `transactions`.`id` = `ledger_entries`.`transaction_id` INNER JOIN `transaction_types` ON `transaction_types`.`id` = `transactions`.`transaction_type_id` WHERE `ledger_entries`.`business_id` = 1 AND (NOT transactions.is_corrected) AND `ledger_entries`.`corrected_with_updated` = 0 AND `ledger_entries`.`corrected_with_updated` = 0 AND (transactions.origin_type <> 'AdvancedUk::Correction')  ORDER BY ledger_entries.date ASC\"\n\n\n\n@business.sales_day_book_entries.joins(:transaction_record).where(\"NOT transactions.is_corrected\").where(:corrected_with_updated => false).where(:corrected_with_updated => false).where('transactions.origin_type <> ?', AdvancedUk::Correction.name).joins(:transaction_record => [:transaction_type]).includes(:transaction_record => [:transaction_type]).order('ledger_entries.date ASC').sum('dr - cr')\n\n\n\n\n\n\n\n\n\n\n\n\n[1] pry(#<AdvancedUk::SalesDayBookReport>)> show-source totals.sum\n\nFrom: /Users/victor.martins/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/activerecord-4.2.4/lib/active_record/relation/calculations.rb @ line 82:\nOwner: ActiveRecord::Calculations\nVisibility: public\nNumber of lines: 3\n\ndef sum(*args)\n  calculate(:sum, *args)\nend\n","markerStore":{"nextMarkerId":5571,"markersById":{"0":{"range":{"start":{"row":74,"column":2},"end":{"row":74,"column":2}},"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward","preserveFolds":true},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true},"4751":{"range":{"start":{"row":52,"column":0},"end":{"row":52,"column":22}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":false}},"version":2},"history":{"version":3,"nextCheckpointId":1984,"undoStack":[{"type":"checkpoint","id":1,"snapshot":{"0":{"range":[[8,163],[8,163]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"isBoundary":false},{"type":"group-start","snapshot":{"0":{"range":[[8,163],[8,163]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[8,163],[8,163]],"newRange":[[8,163],[8,164]],"oldText":"","newText":"."}},{"type":"change","content":{"oldRange":[[8,164],[8,164]],"newRange":[[8,164],[8,165]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[8,165],[8,165]],"newRange":[[8,165],[8,166]],"oldText":"","newText":"W"}},{"type":"change","content":{"oldRange":[[8,166],[8,166]],"newRange":[[8,166],[8,167]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[8,167],[8,167]],"newRange":[[8,167],[8,168]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[8,168],[8,168]],"newRange":[[8,168],[8,169]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[8,169],[8,169]],"newRange":[[8,169],[8,170]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[8,170],[8,170]],"newRange":[[8,170],[8,171]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[8,171],[8,171]],"newRange":[[8,171],[8,172]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[8,172],[8,172]],"newRange":[[8,172],[8,173]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[8,173],[8,173]],"newRange":[[8,173],[8,174]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[8,174],[8,174]],"newRange":[[8,174],[8,175]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[8,175],[8,175]],"newRange":[[8,175],[8,176]],"oldText":"","newText":"h"}},{"type":"change","content":{"oldRange":[[8,176],[8,176]],"newRange":[[8,176],[8,177]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[8,177],[8,177]],"newRange":[[8,177],[8,178]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[8,178],[8,178]],"newRange":[[8,178],[8,179]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[8,179],[8,179]],"newRange":[[8,179],[8,180]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[8,180],[8,180]],"newRange":[[8,180],[8,181]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[8,181],[8,181]],"newRange":[[8,181],[8,182]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[8,182],[8,182]],"newRange":[[8,182],[8,183]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[8,183],[8,183]],"newRange":[[8,183],[8,184]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[8,184],[8,184]],"newRange":[[8,184],[8,185]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[8,185],[8,185]],"newRange":[[8,185],[8,186]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[8,186],[8,186]],"newRange":[[8,186],[8,187]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[8,187],[8,187]],"newRange":[[8,187],[8,188]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[8,188],[8,188]],"newRange":[[8,188],[8,189]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[8,189],[8,189]],"newRange":[[8,189],[8,190]],"oldText":"","newText":"p"}},{"type":"change","content":{"oldRange":[[8,190],[8,190]],"newRange":[[8,190],[8,191]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[8,191],[8,191]],"newRange":[[8,191],[8,192]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[8,192],[8,192]],"newRange":[[8,192],[8,193]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[8,193],[8,193]],"newRange":[[8,193],[8,194]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[8,194],[8,194]],"newRange":[[8,194],[8,195]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[8,195],[8,195]],"newRange":[[8,195],[8,196]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[8,196],[8,196]],"newRange":[[8,196],[8,197]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[8,197],[8,197]],"newRange":[[8,197],[8,198]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[8,198],[8,198]],"newRange":[[8,198],[8,199]],"oldText":"","newText":"g"}},{"type":"change","content":{"oldRange":[[8,199],[8,199]],"newRange":[[8,199],[8,200]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[8,200],[8,200]],"newRange":[[8,200],[8,201]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[8,201],[8,201]],"newRange":[[8,201],[8,202]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[8,202],[8,202]],"newRange":[[8,202],[8,203]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[8,203],[8,203]],"newRange":[[8,203],[8,204]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[8,204],[8,204]],"newRange":[[8,204],[8,205]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[8,205],[8,205]],"newRange":[[8,205],[8,206]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[8,206],[8,206]],"newRange":[[8,206],[8,207]],"oldText":"","newText":"y"}},{"type":"change","content":{"oldRange":[[8,207],[8,207]],"newRange":[[8,207],[8,208]],"oldText":"","newText":"."}},{"type":"change","content":{"oldRange":[[8,208],[8,208]],"newRange":[[8,208],[8,209]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[8,209],[8,209]],"newRange":[[8,209],[8,210]],"oldText":"","newText":"b"}},{"type":"change","content":{"oldRange":[[8,195],[8,210]],"newRange":[[8,195],[8,196]],"oldText":"ledger_entry.rb","newText":"d"}},{"type":"change","content":{"oldRange":[[8,196],[8,196]],"newRange":[[8,196],[8,197]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[8,197],[8,197]],"newRange":[[8,197],[8,198]],"oldText":"","newText":"y"}},{"type":"change","content":{"oldRange":[[8,198],[8,198]],"newRange":[[8,198],[8,199]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[8,199],[8,199]],"newRange":[[8,199],[8,200]],"oldText":"","newText":"b"}},{"type":"change","content":{"oldRange":[[8,200],[8,200]],"newRange":[[8,200],[8,201]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[8,201],[8,201]],"newRange":[[8,201],[8,202]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[8,202],[8,202]],"newRange":[[8,202],[8,203]],"oldText":"","newText":"k"}},{"type":"change","content":{"oldRange":[[8,203],[8,203]],"newRange":[[8,203],[8,204]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[8,204],[8,204]],"newRange":[[8,204],[8,205]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[8,205],[8,205]],"newRange":[[8,205],[8,206]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[8,206],[8,206]],"newRange":[[8,206],[8,207]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[8,207],[8,207]],"newRange":[[8,207],[8,208]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[8,208],[8,208]],"newRange":[[8,208],[8,209]],"oldText":"","newText":"y"}},{"type":"change","content":{"oldRange":[[8,209],[8,209]],"newRange":[[8,209],[8,210]],"oldText":"","newText":"."}},{"type":"change","content":{"oldRange":[[8,210],[8,210]],"newRange":[[8,210],[8,211]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[8,211],[8,211]],"newRange":[[8,211],[8,212]],"oldText":"","newText":"b"}},{"type":"change","content":{"oldRange":[[8,112],[8,112]],"newRange":[[8,112],[8,113]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[8,113],[8,113]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"checkpoint","id":71,"snapshot":{"0":{"range":[[9,98],[9,98]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"isBoundary":false},{"type":"group-start","snapshot":{"0":{"range":[[9,98],[9,98]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[14,0],[14,2]],"newRange":[[14,0],[14,0]],"oldText":"  ","newText":""}},{"type":"change","content":{"oldRange":[[15,0],[15,0]],"newRange":[[15,0],[15,132]],"oldText":"","newText":"@business.sales_day_book_entries.joins(:transaction).joins(\"LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id\").all"}},{"type":"change","content":{"oldRange":[[15,132],[15,132]],"newRange":[[15,132],[16,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[13,0],[13,0]],"newRange":[[13,0],[14,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[14,0],[14,0]],"newRange":[[14,0],[14,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[13,0],[13,0]],"newRange":[[13,0],[13,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[14,0],[14,0]],"newRange":[[14,0],[14,226]],"oldText":"","newText":"Mysql2::Error: Unknown column 'transactions.origin_id' in 'on clause': SELECT `ledger_entries`.* FROM `ledger_entries` LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id WHERE `ledger_entries`.`business_id` = 1"}},{"type":"change","content":{"oldRange":[[15,108],[15,108]],"newRange":[[15,108],[16,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[16,0],[16,0]],"newRange":[[16,0],[16,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[16,0],[16,0]],"newRange":[[16,0],[17,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[17,0],[17,0]],"newRange":[[17,0],[17,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[16,0],[16,0]],"newRange":[[16,0],[16,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[17,0],[17,0]],"newRange":[[17,0],[17,2]],"oldText":"","newText":"[]"}},{"type":"change","content":{"oldRange":[[14,0],[14,226]],"newRange":[[14,0],[14,0]],"oldText":"Mysql2::Error: Unknown column 'transactions.origin_id' in 'on clause': SELECT `ledger_entries`.* FROM `ledger_entries` LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id WHERE `ledger_entries`.`business_id` = 1","newText":""}},{"type":"change","content":{"oldRange":[[15,108],[15,108]],"newRange":[[15,108],[16,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[16,0],[16,0]],"newRange":[[16,0],[16,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[16,0],[16,0]],"newRange":[[16,0],[16,1]],"oldText":"","newText":"="}},{"type":"change","content":{"oldRange":[[16,1],[16,1]],"newRange":[[16,1],[16,2]],"oldText":"","newText":">"}},{"type":"change","content":{"oldRange":[[16,2],[16,2]],"newRange":[[16,2],[16,3]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[16,3],[16,3]],"newRange":[[16,3],[16,229]],"oldText":"","newText":"Mysql2::Error: Unknown column 'transactions.origin_id' in 'on clause': SELECT `ledger_entries`.* FROM `ledger_entries` LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id WHERE `ledger_entries`.`business_id` = 1"}},{"type":"change","content":{"oldRange":[[18,0],[18,2]],"newRange":[[18,0],[18,0]],"oldText":"[]","newText":""}},{"type":"change","content":{"oldRange":[[19,132],[19,132]],"newRange":[[19,132],[20,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[20,0],[20,0]],"newRange":[[20,0],[20,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[20,0],[20,0]],"newRange":[[20,0],[20,1]],"oldText":"","newText":"-"}},{"type":"change","content":{"oldRange":[[20,0],[20,1]],"newRange":[[20,0],[20,0]],"oldText":"-","newText":""}},{"type":"change","content":{"oldRange":[[20,0],[20,0]],"newRange":[[20,0],[20,1]],"oldText":"","newText":"-"}},{"type":"change","content":{"oldRange":[[20,0],[20,1]],"newRange":[[20,0],[20,0]],"oldText":"-","newText":""}},{"type":"change","content":{"oldRange":[[20,0],[20,0]],"newRange":[[20,0],[20,1]],"oldText":"","newText":"="}},{"type":"change","content":{"oldRange":[[20,1],[20,1]],"newRange":[[20,1],[20,2]],"oldText":"","newText":">"}},{"type":"change","content":{"oldRange":[[20,2],[20,2]],"newRange":[[20,2],[20,3]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[20,3],[20,3]],"newRange":[[20,3],[20,5]],"oldText":"","newText":"[]"}},{"type":"change","content":{"oldRange":[[14,0],[14,0]],"newRange":[[14,0],[15,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[15,0],[15,0]],"newRange":[[15,0],[15,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[14,0],[14,0]],"newRange":[[14,0],[14,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[15,0],[15,0]],"newRange":[[15,0],[16,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[16,0],[16,0]],"newRange":[[16,0],[16,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[15,0],[15,0]],"newRange":[[15,0],[15,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[16,0],[16,0]],"newRange":[[16,0],[17,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[17,0],[17,0]],"newRange":[[17,0],[17,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[16,0],[16,0]],"newRange":[[16,0],[16,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[17,0],[17,0]],"newRange":[[17,0],[17,1]],"oldText":"","newText":"M"}},{"type":"change","content":{"oldRange":[[17,1],[17,1]],"newRange":[[17,1],[17,2]],"oldText":"","newText":"A"}},{"type":"change","content":{"oldRange":[[17,2],[17,2]],"newRange":[[17,2],[17,3]],"oldText":"","newText":"S"}},{"type":"change","content":{"oldRange":[[17,3],[17,3]],"newRange":[[17,3],[17,4]],"oldText":"","newText":"T"}},{"type":"change","content":{"oldRange":[[17,4],[17,4]],"newRange":[[17,4],[17,5]],"oldText":"","newText":"E"}},{"type":"change","content":{"oldRange":[[17,5],[17,5]],"newRange":[[17,5],[17,6]],"oldText":"","newText":"R"}},{"type":"change","content":{"oldRange":[[17,6],[17,6]],"newRange":[[17,6],[17,7]],"oldText":"","newText":"+"}},{"type":"change","content":{"oldRange":[[17,7],[17,7]],"newRange":[[17,7],[17,8]],"oldText":"","newText":"+"}},{"type":"change","content":{"oldRange":[[17,8],[17,8]],"newRange":[[17,8],[17,9]],"oldText":"","newText":"+"}},{"type":"change","content":{"oldRange":[[17,8],[17,9]],"newRange":[[17,8],[17,8]],"oldText":"+","newText":""}},{"type":"change","content":{"oldRange":[[17,7],[17,8]],"newRange":[[17,7],[17,7]],"oldText":"+","newText":""}},{"type":"change","content":{"oldRange":[[17,6],[17,7]],"newRange":[[17,6],[17,6]],"oldText":"+","newText":""}},{"type":"change","content":{"oldRange":[[17,6],[17,6]],"newRange":[[17,6],[17,7]],"oldText":"","newText":"="}},{"type":"change","content":{"oldRange":[[17,7],[17,7]],"newRange":[[17,7],[17,8]],"oldText":"","newText":"="}},{"type":"change","content":{"oldRange":[[17,6],[17,6]],"newRange":[[17,6],[17,7]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[17,0],[17,0]],"newRange":[[17,0],[17,2]],"oldText":"","newText":"=="}},{"type":"change","content":{"oldRange":[[17,2],[17,2]],"newRange":[[17,2],[17,3]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[17,0],[17,0]],"newRange":[[17,0],[17,2]],"oldText":"","newText":"=="}},{"type":"change","content":{"oldRange":[[17,2],[17,2]],"newRange":[[17,2],[17,4]],"oldText":"","newText":"=="}},{"type":"change","content":{"oldRange":[[17,4],[17,4]],"newRange":[[17,4],[17,6]],"oldText":"","newText":"=="}},{"type":"change","content":{"oldRange":[[17,6],[17,6]],"newRange":[[17,6],[17,8]],"oldText":"","newText":"=="}},{"type":"change","content":{"oldRange":[[17,8],[17,8]],"newRange":[[17,8],[17,10]],"oldText":"","newText":"=="}},{"type":"change","content":{"oldRange":[[17,10],[17,10]],"newRange":[[17,10],[17,12]],"oldText":"","newText":"=="}},{"type":"change","content":{"oldRange":[[17,12],[17,12]],"newRange":[[17,12],[17,14]],"oldText":"","newText":"=="}},{"type":"change","content":{"oldRange":[[17,14],[17,14]],"newRange":[[17,14],[17,16]],"oldText":"","newText":"=="}},{"type":"change","content":{"oldRange":[[17,16],[17,16]],"newRange":[[17,16],[17,18]],"oldText":"","newText":"=="}},{"type":"change","content":{"oldRange":[[17,30],[17,30]],"newRange":[[17,30],[17,50]],"oldText":"","newText":"===================="}},{"type":"change","content":{"oldRange":[[17,50],[17,50]],"newRange":[[17,50],[17,70]],"oldText":"","newText":"===================="}},{"type":"change","content":{"oldRange":[[17,70],[17,70]],"newRange":[[17,70],[17,90]],"oldText":"","newText":"===================="}},{"type":"change","content":{"oldRange":[[17,90],[17,90]],"newRange":[[17,90],[17,110]],"oldText":"","newText":"===================="}},{"type":"change","content":{"oldRange":[[17,110],[17,110]],"newRange":[[17,110],[17,130]],"oldText":"","newText":"===================="}},{"type":"change","content":{"oldRange":[[17,130],[17,130]],"newRange":[[17,130],[17,150]],"oldText":"","newText":"===================="}},{"type":"change","content":{"oldRange":[[17,150],[17,150]],"newRange":[[17,150],[17,170]],"oldText":"","newText":"===================="}},{"type":"change","content":{"oldRange":[[17,2],[17,20]],"newRange":[[17,2],[17,2]],"oldText":"==================","newText":""}},{"type":"change","content":{"oldRange":[[24,0],[24,0]],"newRange":[[24,0],[25,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[25,0],[25,0]],"newRange":[[25,0],[25,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[24,0],[24,0]],"newRange":[[24,0],[24,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[25,0],[25,0]],"newRange":[[25,0],[26,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[26,0],[26,0]],"newRange":[[26,0],[26,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[25,0],[25,0]],"newRange":[[25,0],[25,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[26,0],[26,0]],"newRange":[[26,0],[27,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[27,0],[27,0]],"newRange":[[27,0],[27,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[26,0],[26,0]],"newRange":[[26,0],[26,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[27,0],[27,0]],"newRange":[[27,0],[28,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[28,0],[28,0]],"newRange":[[28,0],[28,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[27,0],[27,0]],"newRange":[[27,0],[27,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[28,0],[28,0]],"newRange":[[28,0],[28,20]],"oldText":"","newText":"===================="}},{"type":"change","content":{"oldRange":[[28,0],[28,20]],"newRange":[[28,0],[28,20]],"oldText":"====================","newText":"===================="}},{"type":"change","content":{"oldRange":[[28,0],[28,20]],"newRange":[[28,0],[28,20]],"oldText":"====================","newText":"===================="}},{"type":"change","content":{"oldRange":[[28,0],[28,20]],"newRange":[[28,0],[28,152]],"oldText":"====================","newText":"== MASTER =============================================================================================================================================="}},{"type":"change","content":{"oldRange":[[28,3],[28,9]],"newRange":[[28,3],[28,4]],"oldText":"MASTER","newText":"S"}},{"type":"change","content":{"oldRange":[[28,4],[28,4]],"newRange":[[28,4],[28,5]],"oldText":"","newText":"O"}},{"type":"change","content":{"oldRange":[[28,5],[28,5]],"newRange":[[28,5],[28,6]],"oldText":"","newText":"P"}},{"type":"change","content":{"oldRange":[[28,6],[28,6]],"newRange":[[28,6],[28,7]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[28,7],[28,7]],"newRange":[[28,7],[28,8]],"oldText":"","newText":"V"}},{"type":"change","content":{"oldRange":[[28,8],[28,8]],"newRange":[[28,8],[28,9]],"oldText":"","newText":"2"}},{"type":"change","content":{"oldRange":[[28,9],[28,9]],"newRange":[[28,9],[28,10]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[28,10],[28,10]],"newRange":[[28,10],[28,11]],"oldText":"","newText":"U"}},{"type":"change","content":{"oldRange":[[28,11],[28,11]],"newRange":[[28,11],[28,12]],"oldText":"","newText":"P"}},{"type":"change","content":{"oldRange":[[28,12],[28,12]],"newRange":[[28,12],[28,13]],"oldText":"","newText":"G"}},{"type":"change","content":{"oldRange":[[28,13],[28,13]],"newRange":[[28,13],[28,14]],"oldText":"","newText":"R"}},{"type":"change","content":{"oldRange":[[28,14],[28,14]],"newRange":[[28,14],[28,15]],"oldText":"","newText":"A"}},{"type":"change","content":{"oldRange":[[28,15],[28,15]],"newRange":[[28,15],[28,16]],"oldText":"","newText":"D"}},{"type":"change","content":{"oldRange":[[28,16],[28,16]],"newRange":[[28,16],[28,17]],"oldText":"","newText":"E"}},{"type":"change","content":{"oldRange":[[28,160],[28,160]],"newRange":[[28,160],[29,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[18,108],[18,108]],"newRange":[[18,108],[18,109]],"oldText":"","newText":"."}},{"type":"change","content":{"oldRange":[[18,109],[18,109]],"newRange":[[18,109],[18,110]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[18,110],[18,110]],"newRange":[[18,110],[18,111]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[18,111],[18,111]],"newRange":[[18,111],[18,112]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[18,112],[18,112]],"newRange":[[18,112],[18,113]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[18,112],[18,113]],"newRange":[[18,112],[18,112]],"oldText":"s","newText":""}},{"type":"change","content":{"oldRange":[[18,111],[18,112]],"newRange":[[18,111],[18,111]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[18,110],[18,111]],"newRange":[[18,110],[18,110]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[18,109],[18,110]],"newRange":[[18,109],[18,109]],"oldText":"f","newText":""}},{"type":"change","content":{"oldRange":[[18,108],[18,109]],"newRange":[[18,108],[18,108]],"oldText":".","newText":""}},{"type":"change","content":{"oldRange":[[18,108],[18,108]],"newRange":[[18,108],[18,109]],"oldText":"","newText":"."}},{"type":"change","content":{"oldRange":[[18,108],[18,109]],"newRange":[[18,108],[18,108]],"oldText":".","newText":""}},{"type":"change","content":{"oldRange":[[18,108],[18,108]],"newRange":[[18,108],[18,109]],"oldText":"","newText":"."}},{"type":"change","content":{"oldRange":[[18,109],[18,109]],"newRange":[[18,109],[18,110]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[18,110],[18,110]],"newRange":[[18,110],[18,111]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[18,111],[18,111]],"newRange":[[18,111],[18,112]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[18,112],[18,112]],"newRange":[[18,112],[18,113]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[18,113],[18,113]],"newRange":[[18,113],[18,114]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[29,0],[29,0]],"newRange":[[29,0],[29,114]],"oldText":"","newText":"@business.sales_day_book_entries.joins(\"LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id\").first"}},{"type":"change","content":{"oldRange":[[29,114],[29,114]],"newRange":[[29,114],[30,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[29,114],[29,114]],"newRange":[[29,114],[30,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[30,0],[30,0]],"newRange":[[30,0],[30,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[30,0],[30,0]],"newRange":[[30,0],[30,1]],"oldText":"","newText":"="}},{"type":"change","content":{"oldRange":[[30,1],[30,1]],"newRange":[[30,1],[30,2]],"oldText":"","newText":">"}},{"type":"change","content":{"oldRange":[[30,2],[30,2]],"newRange":[[30,2],[30,3]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[30,3],[30,3]],"newRange":[[30,3],[30,306]],"oldText":"","newText":"ActiveRecord::StatementInvalid: Mysql2::Error: Unknown column 'transactions.origin_id' in 'on clause': SELECT  `ledger_entries`.* FROM `ledger_entries` LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id WHERE `ledger_entries`.`business_id` = 1  ORDER BY `ledger_entries`.`id` ASC LIMIT 1"}},{"type":"change","content":{"oldRange":[[31,0],[31,0]],"newRange":[[31,0],[32,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[32,0],[32,0]],"newRange":[[32,0],[32,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[31,0],[31,0]],"newRange":[[31,0],[31,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[32,0],[32,0]],"newRange":[[32,0],[33,6]],"oldText":"","newText":"@business.sales_day_book_entries.joins(:transaction_record).joins(\"LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id\").first\n=> nil"}},{"type":"change","content":{"oldRange":[[32,0],[32,0]],"newRange":[[32,0],[32,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[33,6],[33,6]],"newRange":[[33,6],[34,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[32,141],[32,141]],"newRange":[[32,141],[32,142]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[32,142],[32,142]],"newRange":[[32,142],[32,143]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[32,143],[32,143]],"newRange":[[32,143],[32,144]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[32,144],[32,144]],"newRange":[[32,144],[32,145]],"oldText":"","newText":"#"}},{"type":"change","content":{"oldRange":[[32,145],[32,145]],"newRange":[[32,145],[32,146]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[32,146],[32,146]],"newRange":[[32,146],[32,147]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[32,147],[32,147]],"newRange":[[32,147],[32,148]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[32,148],[32,148]],"newRange":[[32,148],[32,149]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[32,149],[32,149]],"newRange":[[32,149],[32,150]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[32,150],[32,150]],"newRange":[[32,150],[32,151]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[32,151],[32,151]],"newRange":[[32,151],[32,152]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[32,152],[32,152]],"newRange":[[32,152],[32,153]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[32,153],[32,153]],"newRange":[[32,153],[32,154]],"oldText":"","newText":"h"}},{"type":"change","content":{"oldRange":[[32,154],[32,154]],"newRange":[[32,154],[32,155]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[32,155],[32,155]],"newRange":[[32,155],[32,156]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[32,156],[32,156]],"newRange":[[32,156],[32,157]],"oldText":"","newText":"j"}},{"type":"change","content":{"oldRange":[[32,157],[32,157]],"newRange":[[32,157],[32,158]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[32,158],[32,158]],"newRange":[[32,158],[32,159]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[32,159],[32,159]],"newRange":[[32,159],[32,160]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[32,160],[32,160]],"newRange":[[32,160],[32,161]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[32,161],[32,161]],"newRange":[[32,161],[32,163]],"oldText":"","newText":"()"}},{"type":"change","content":{"oldRange":[[32,162],[32,162]],"newRange":[[32,162],[32,164]],"oldText":"","newText":"''"}},{"type":"change","content":{"oldRange":[[32,163],[32,163]],"newRange":[[32,163],[32,164]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[32,164],[32,164]],"newRange":[[32,164],[32,165]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[32,165],[32,165]],"newRange":[[32,165],[32,166]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[32,166],[32,166]],"newRange":[[32,166],[32,167]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[32,167],[32,167]],"newRange":[[32,167],[32,168]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[32,168],[32,168]],"newRange":[[32,168],[32,169]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[32,169],[32,169]],"newRange":[[32,169],[32,170]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[32,170],[32,170]],"newRange":[[32,170],[32,171]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[32,171],[32,171]],"newRange":[[32,171],[32,172]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[32,172],[32,172]],"newRange":[[32,172],[32,173]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[32,173],[32,173]],"newRange":[[32,173],[32,174]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[32,174],[32,174]],"newRange":[[32,174],[32,175]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[32,175],[32,175]],"newRange":[[32,175],[32,176]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[32,176],[32,176]],"newRange":[[32,176],[32,177]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[32,177],[32,177]],"newRange":[[32,177],[32,178]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[32,178],[32,178]],"newRange":[[32,178],[32,179]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[32,179],[32,179]],"newRange":[[32,179],[32,180]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[32,180],[32,180]],"newRange":[[32,180],[32,181]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[13,0],[13,0]],"newRange":[[13,0],[16,69]],"oldText":"","newText":"      joins(:transaction_record).\n  where(\"NOT transactions.is_corrected\").\n  where(:corrected_with_updated => false).\n  where('transactions.origin_type <> ?', AdvancedUk::Correction.name)"}},{"type":"change","content":{"oldRange":[[13,0],[13,6]],"newRange":[[13,0],[13,2]],"oldText":"      ","newText":"  "}},{"type":"change","content":{"oldRange":[[13,0],[16,69]],"newRange":[[13,0],[13,0]],"oldText":"  joins(:transaction_record).\n  where(\"NOT transactions.is_corrected\").\n  where(:corrected_with_updated => false).\n  where('transactions.origin_type <> ?', AdvancedUk::Correction.name)","newText":""}},{"type":"change","content":{"oldRange":[[8,213],[8,213]],"newRange":[[8,213],[9,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[9,0],[9,0]],"newRange":[[9,0],[9,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[9,0],[9,0]],"newRange":[[9,0],[12,67]],"oldText":"","newText":"  joins(:transaction_record).\nwhere(\"NOT transactions.is_corrected\").\nwhere(:corrected_with_updated => false).\nwhere('transactions.origin_type <> ?', AdvancedUk::Correction.name)"}},{"type":"change","content":{"oldRange":[[9,0],[9,2]],"newRange":[[9,0],[9,0]],"oldText":"  ","newText":""}},{"type":"change","content":{"oldRange":[[12,67],[12,67]],"newRange":[[12,67],[13,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[13,0],[13,0]],"newRange":[[13,0],[13,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[13,0],[13,0]],"newRange":[[13,0],[14,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[14,0],[14,0]],"newRange":[[14,0],[14,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[13,0],[13,0]],"newRange":[[13,0],[13,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[14,0],[14,0]],"newRange":[[14,0],[15,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[15,0],[15,0]],"newRange":[[15,0],[15,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[14,0],[14,0]],"newRange":[[14,0],[14,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[9,0],[9,0]],"newRange":[[9,0],[9,2]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,0],[10,0]],"newRange":[[10,0],[10,2]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,0],[11,0]],"newRange":[[11,0],[11,2]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,0],[12,0]],"newRange":[[12,0],[12,2]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,29],[9,29]],"newRange":[[9,29],[9,30]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,30],[9,30]],"newRange":[[9,30],[9,32]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,32],[9,32]],"newRange":[[9,32],[9,34]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,34],[9,34]],"newRange":[[9,34],[9,36]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,36],[9,36]],"newRange":[[9,36],[9,38]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,38],[9,38]],"newRange":[[9,38],[9,40]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,40],[9,40]],"newRange":[[9,40],[9,42]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,42],[9,42]],"newRange":[[9,42],[9,44]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,44],[9,44]],"newRange":[[9,44],[9,46]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,46],[9,46]],"newRange":[[9,46],[9,48]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,48],[9,48]],"newRange":[[9,48],[9,50]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,50],[9,50]],"newRange":[[9,50],[9,52]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,52],[9,52]],"newRange":[[9,52],[9,54]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,54],[9,54]],"newRange":[[9,54],[9,56]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,56],[9,56]],"newRange":[[9,56],[9,58]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,58],[9,58]],"newRange":[[9,58],[9,60]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,60],[9,60]],"newRange":[[9,60],[9,62]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,62],[9,62]],"newRange":[[9,62],[9,64]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,64],[9,64]],"newRange":[[9,64],[9,66]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,66],[9,66]],"newRange":[[9,66],[9,68]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,68],[9,68]],"newRange":[[9,68],[9,70]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,70],[9,70]],"newRange":[[9,70],[9,72]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,72],[9,72]],"newRange":[[9,72],[9,74]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,74],[9,74]],"newRange":[[9,74],[9,76]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,76],[9,76]],"newRange":[[9,76],[9,78]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,78],[9,78]],"newRange":[[9,78],[9,80]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,80],[9,80]],"newRange":[[9,80],[9,82]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,82],[9,82]],"newRange":[[9,82],[9,84]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,84],[9,84]],"newRange":[[9,84],[9,86]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,86],[9,86]],"newRange":[[9,86],[9,88]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,88],[9,88]],"newRange":[[9,88],[9,90]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,90],[9,90]],"newRange":[[9,90],[9,92]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,92],[9,92]],"newRange":[[9,92],[9,94]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,94],[9,94]],"newRange":[[9,94],[9,96]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,96],[9,96]],"newRange":[[9,96],[9,98]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,98],[9,98]],"newRange":[[9,98],[9,100]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,100],[9,100]],"newRange":[[9,100],[9,102]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,102],[9,102]],"newRange":[[9,102],[9,104]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,104],[9,104]],"newRange":[[9,104],[9,106]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,106],[9,106]],"newRange":[[9,106],[9,108]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,108],[9,108]],"newRange":[[9,108],[9,110]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[9,109],[9,110]],"newRange":[[9,109],[9,109]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[9,109],[9,109]],"newRange":[[9,109],[9,110]],"oldText":"","newText":"#"}},{"type":"change","content":{"oldRange":[[9,110],[9,110]],"newRange":[[9,110],[9,111]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,111],[9,111]],"newRange":[[9,111],[9,112]],"oldText":"","newText":"2"}},{"type":"change","content":{"oldRange":[[9,112],[9,112]],"newRange":[[9,112],[9,113]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,113],[9,113]],"newRange":[[9,113],[9,114]],"oldText":"","newText":"-"}},{"type":"change","content":{"oldRange":[[9,114],[9,114]],"newRange":[[9,114],[9,115]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,115],[9,115]],"newRange":[[9,115],[9,116]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[9,116],[9,116]],"newRange":[[9,116],[9,117]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[9,117],[9,117]],"newRange":[[9,117],[9,118]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[9,118],[9,118]],"newRange":[[9,118],[9,119]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[9,119],[9,119]],"newRange":[[9,119],[9,120]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[9,120],[9,120]],"newRange":[[9,120],[9,121]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[9,121],[9,121]],"newRange":[[9,121],[9,122]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[9,122],[9,122]],"newRange":[[9,122],[9,123]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[9,123],[9,123]],"newRange":[[9,123],[9,124]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[9,124],[9,124]],"newRange":[[9,124],[9,125]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[9,125],[9,125]],"newRange":[[9,125],[9,126]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[9,126],[9,126]],"newRange":[[9,126],[9,127]],"oldText":"","newText":"p"}},{"type":"change","content":{"oldRange":[[9,127],[9,127]],"newRange":[[9,127],[9,128]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[9,128],[9,128]],"newRange":[[9,128],[9,129]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,129],[9,129]],"newRange":[[9,129],[9,130]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[9,130],[9,130]],"newRange":[[9,130],[9,131]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[9,131],[9,131]],"newRange":[[9,131],[9,132]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[9,131],[9,132]],"newRange":[[9,131],[9,131]],"oldText":"l","newText":""}},{"type":"change","content":{"oldRange":[[9,130],[9,131]],"newRange":[[9,130],[9,130]],"oldText":"a","newText":""}},{"type":"change","content":{"oldRange":[[9,129],[9,130]],"newRange":[[9,129],[9,129]],"oldText":"c","newText":""}},{"type":"change","content":{"oldRange":[[9,129],[9,129]],"newRange":[[9,129],[9,130]],"oldText":"","newText":"w"}},{"type":"change","content":{"oldRange":[[9,130],[9,130]],"newRange":[[9,130],[9,131]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[9,131],[9,131]],"newRange":[[9,131],[9,132]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[9,132],[9,132]],"newRange":[[9,132],[9,133]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[9,133],[9,133]],"newRange":[[9,133],[9,134]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,134],[9,134]],"newRange":[[9,134],[9,135]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[9,135],[9,135]],"newRange":[[9,135],[9,136]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[9,136],[9,136]],"newRange":[[9,136],[9,137]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[9,137],[9,137]],"newRange":[[9,137],[9,138]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[9,138],[9,138]],"newRange":[[9,138],[9,139]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,139],[9,139]],"newRange":[[9,139],[9,140]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[9,140],[9,140]],"newRange":[[9,140],[9,141]],"oldText":"","newText":"h"}},{"type":"change","content":{"oldRange":[[9,141],[9,141]],"newRange":[[9,141],[9,142]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[9,142],[9,142]],"newRange":[[9,142],[9,143]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,142],[9,143]],"newRange":[[9,142],[9,142]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[9,141],[9,142]],"newRange":[[9,141],[9,141]],"oldText":"e","newText":""}},{"type":"change","content":{"oldRange":[[9,140],[9,141]],"newRange":[[9,140],[9,140]],"oldText":"h","newText":""}},{"type":"change","content":{"oldRange":[[9,139],[9,140]],"newRange":[[9,139],[9,139]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[9,138],[9,139]],"newRange":[[9,138],[9,138]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[9,137],[9,138]],"newRange":[[9,137],[9,137]],"oldText":"l","newText":""}},{"type":"change","content":{"oldRange":[[9,136],[9,137]],"newRange":[[9,136],[9,136]],"oldText":"l","newText":""}},{"type":"change","content":{"oldRange":[[9,135],[9,136]],"newRange":[[9,135],[9,135]],"oldText":"a","newText":""}},{"type":"change","content":{"oldRange":[[9,134],[9,135]],"newRange":[[9,134],[9,134]],"oldText":"c","newText":""}},{"type":"change","content":{"oldRange":[[9,133],[9,134]],"newRange":[[9,133],[9,133]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[9,132],[9,133]],"newRange":[[9,132],[9,132]],"oldText":"l","newText":""}},{"type":"change","content":{"oldRange":[[9,131],[9,132]],"newRange":[[9,131],[9,131]],"oldText":"l","newText":""}},{"type":"change","content":{"oldRange":[[9,130],[9,131]],"newRange":[[9,130],[9,130]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[9,129],[9,130]],"newRange":[[9,129],[9,129]],"oldText":"w","newText":""}},{"type":"change","content":{"oldRange":[[9,128],[9,129]],"newRange":[[9,128],[9,128]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[9,127],[9,128]],"newRange":[[9,127],[9,127]],"oldText":"e","newText":""}},{"type":"change","content":{"oldRange":[[9,126],[9,127]],"newRange":[[9,126],[9,126]],"oldText":"p","newText":""}},{"type":"change","content":{"oldRange":[[9,125],[9,126]],"newRange":[[9,125],[9,125]],"oldText":"o","newText":""}},{"type":"change","content":{"oldRange":[[9,124],[9,125]],"newRange":[[9,124],[9,124]],"oldText":"c","newText":""}},{"type":"change","content":{"oldRange":[[9,123],[9,124]],"newRange":[[9,123],[9,123]],"oldText":"s","newText":""}},{"type":"change","content":{"oldRange":[[9,122],[9,123]],"newRange":[[9,122],[9,122]],"oldText":"_","newText":""}},{"type":"change","content":{"oldRange":[[9,121],[9,122]],"newRange":[[9,121],[9,121]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[9,120],[9,121]],"newRange":[[9,120],[9,120]],"oldText":"l","newText":""}},{"type":"change","content":{"oldRange":[[9,119],[9,120]],"newRange":[[9,119],[9,119]],"oldText":"u","newText":""}},{"type":"change","content":{"oldRange":[[9,118],[9,119]],"newRange":[[9,118],[9,118]],"oldText":"a","newText":""}},{"type":"change","content":{"oldRange":[[9,117],[9,118]],"newRange":[[9,117],[9,117]],"oldText":"f","newText":""}},{"type":"change","content":{"oldRange":[[9,116],[9,117]],"newRange":[[9,116],[9,116]],"oldText":"e","newText":""}},{"type":"change","content":{"oldRange":[[9,115],[9,116]],"newRange":[[9,115],[9,115]],"oldText":"d","newText":""}},{"type":"change","content":{"oldRange":[[9,115],[9,115]],"newRange":[[9,115],[9,116]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[9,116],[9,116]],"newRange":[[9,116],[9,117]],"oldText":"","newText":"h"}},{"type":"change","content":{"oldRange":[[9,117],[9,117]],"newRange":[[9,117],[9,118]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[9,118],[9,118]],"newRange":[[9,118],[9,119]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[9,119],[9,119]],"newRange":[[9,119],[9,120]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,120],[9,120]],"newRange":[[9,120],[9,121]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[9,121],[9,121]],"newRange":[[9,121],[9,122]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[9,122],[9,122]],"newRange":[[9,122],[9,123]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,123],[9,123]],"newRange":[[9,123],[9,124]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[9,124],[9,124]],"newRange":[[9,124],[9,125]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[9,125],[9,125]],"newRange":[[9,125],[9,126]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[9,126],[9,126]],"newRange":[[9,126],[9,127]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[9,127],[9,127]],"newRange":[[9,127],[9,128]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[9,128],[9,128]],"newRange":[[9,128],[9,129]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[9,129],[9,129]],"newRange":[[9,129],[9,130]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,130],[9,130]],"newRange":[[9,130],[9,131]],"oldText":"","newText":"b"}},{"type":"change","content":{"oldRange":[[9,131],[9,131]],"newRange":[[9,131],[9,132]],"oldText":"","newText":"y"}},{"type":"change","content":{"oldRange":[[9,132],[9,132]],"newRange":[[9,132],[9,133]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,133],[9,133]],"newRange":[[9,133],[9,134]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[9,134],[9,134]],"newRange":[[9,134],[9,135]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[9,135],[9,135]],"newRange":[[9,135],[9,136]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[9,136],[9,136]],"newRange":[[9,136],[9,137]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[9,137],[9,137]],"newRange":[[9,137],[9,138]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[9,138],[9,138]],"newRange":[[9,138],[9,139]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[9,139],[9,139]],"newRange":[[9,139],[9,140]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[9,140],[9,140]],"newRange":[[9,140],[9,141]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[9,141],[9,141]],"newRange":[[9,141],[9,142]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[9,142],[9,142]],"newRange":[[9,142],[9,143]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[9,143],[9,143]],"newRange":[[9,143],[9,144]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[9,144],[9,144]],"newRange":[[9,144],[9,145]],"oldText":"","newText":"p"}},{"type":"change","content":{"oldRange":[[9,145],[9,145]],"newRange":[[9,145],[9,146]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[9,122],[9,122]],"newRange":[[9,122],[9,123]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,123],[9,123]],"newRange":[[9,123],[9,124]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[9,124],[9,124]],"newRange":[[9,124],[9,125]],"oldText":"","newText":"h"}},{"type":"change","content":{"oldRange":[[9,125],[9,125]],"newRange":[[9,125],[9,126]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[9,126],[9,126]],"newRange":[[9,126],[9,127]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,127],[9,127]],"newRange":[[9,127],[9,128]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[9,128],[9,128]],"newRange":[[9,128],[9,129]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[9,129],[9,129]],"newRange":[[9,129],[9,130]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[9,130],[9,130]],"newRange":[[9,130],[9,131]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[9,131],[9,131]],"newRange":[[9,131],[9,132]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[9,132],[9,132]],"newRange":[[9,132],[9,133]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[9,133],[9,133]],"newRange":[[9,133],[9,134]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[9,134],[9,134]],"newRange":[[9,134],[9,135]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[9,135],[9,135]],"newRange":[[9,135],[9,136]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[9,136],[9,136]],"newRange":[[9,136],[9,137]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[9,137],[9,137]],"newRange":[[9,137],[9,138]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[9,138],[9,138]],"newRange":[[9,138],[9,139]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[9,139],[9,139]],"newRange":[[9,139],[9,140]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[9,140],[9,140]],"newRange":[[9,140],[9,141]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,141],[9,141]],"newRange":[[9,141],[9,142]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[9,142],[9,142]],"newRange":[[9,142],[9,143]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[9,143],[9,143]],"newRange":[[9,143],[9,144]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[9,144],[9,144]],"newRange":[[9,144],[9,145]],"oldText":"","newText":"p"}},{"type":"change","content":{"oldRange":[[9,145],[9,145]],"newRange":[[9,145],[9,146]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[9,146],[9,146]],"newRange":[[9,146],[9,147]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,147],[9,147]],"newRange":[[9,147],[9,148]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[9,148],[9,148]],"newRange":[[9,148],[9,149]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[9,149],[9,149]],"newRange":[[9,149],[9,150]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,150],[9,150]],"newRange":[[9,150],[9,151]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[9,151],[9,151]],"newRange":[[9,151],[9,152]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[9,152],[9,152]],"newRange":[[9,152],[9,153]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[9,153],[9,153]],"newRange":[[9,153],[9,154]],"oldText":"","newText":"g"}},{"type":"change","content":{"oldRange":[[9,154],[9,154]],"newRange":[[9,154],[9,155]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[9,155],[9,155]],"newRange":[[9,155],[9,156]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[9,156],[9,156]],"newRange":[[9,156],[9,157]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[9,157],[9,157]],"newRange":[[9,157],[9,158]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[9,158],[9,158]],"newRange":[[9,158],[9,159]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[9,159],[9,159]],"newRange":[[9,159],[9,160]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[9,160],[9,160]],"newRange":[[9,160],[9,161]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[9,161],[9,161]],"newRange":[[9,161],[9,162]],"oldText":"","newText":"y"}},{"type":"change","content":{"oldRange":[[9,162],[9,162]],"newRange":[[9,162],[9,163]],"oldText":"","newText":"."}},{"type":"change","content":{"oldRange":[[9,163],[9,163]],"newRange":[[9,163],[9,164]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[9,164],[9,164]],"newRange":[[9,164],[9,165]],"oldText":"","newText":"b"}},{"type":"change","content":{"oldRange":[[9,165],[9,165]],"newRange":[[9,165],[9,166]],"oldText":"","newText":","}},{"type":"change","content":{"oldRange":[[9,166],[9,166]],"newRange":[[9,166],[9,167]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,166],[9,167]],"newRange":[[9,166],[9,166]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[9,165],[9,166]],"newRange":[[9,165],[9,165]],"oldText":",","newText":""}},{"type":"change","content":{"oldRange":[[9,165],[9,165]],"newRange":[[9,165],[9,166]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,166],[9,166]],"newRange":[[9,166],[9,167]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[9,167],[9,167]],"newRange":[[9,167],[9,168]],"oldText":"","newText":"h"}},{"type":"change","content":{"oldRange":[[9,168],[9,168]],"newRange":[[9,168],[9,169]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[9,169],[9,169]],"newRange":[[9,169],[9,170]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[9,170],[9,170]],"newRange":[[9,170],[9,171]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,171],[9,171]],"newRange":[[9,171],[9,172]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[9,172],[9,172]],"newRange":[[9,172],[9,173]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[9,173],[9,173]],"newRange":[[9,173],[9,174]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,173],[9,174]],"newRange":[[9,173],[9,173]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[9,184],[9,184]],"newRange":[[9,184],[9,185]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[9,185],[9,185]],"newRange":[[9,185],[9,186]],"oldText":"","newText":"h"}},{"type":"change","content":{"oldRange":[[9,186],[9,186]],"newRange":[[9,186],[9,187]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[9,187],[9,187]],"newRange":[[9,187],[9,188]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,201],[9,201]],"newRange":[[9,201],[9,202]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[9,202],[9,202]],"newRange":[[9,202],[9,222]],"oldText":"","newText":"in day_book_entry.rb"}},{"type":"change","content":{"oldRange":[[10,41],[10,41]],"newRange":[[10,41],[10,42]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,42],[10,42]],"newRange":[[10,42],[10,44]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,44],[10,44]],"newRange":[[10,44],[10,46]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,46],[10,46]],"newRange":[[10,46],[10,48]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,48],[10,48]],"newRange":[[10,48],[10,50]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,50],[10,50]],"newRange":[[10,50],[10,52]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,52],[10,52]],"newRange":[[10,52],[10,54]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,54],[10,54]],"newRange":[[10,54],[10,56]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,56],[10,56]],"newRange":[[10,56],[10,58]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,58],[10,58]],"newRange":[[10,58],[10,60]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,60],[10,60]],"newRange":[[10,60],[10,62]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,62],[10,62]],"newRange":[[10,62],[10,64]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,64],[10,64]],"newRange":[[10,64],[10,66]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,66],[10,66]],"newRange":[[10,66],[10,68]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,68],[10,68]],"newRange":[[10,68],[10,70]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,70],[10,70]],"newRange":[[10,70],[10,72]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,72],[10,72]],"newRange":[[10,72],[10,74]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,74],[10,74]],"newRange":[[10,74],[10,76]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,76],[10,76]],"newRange":[[10,76],[10,78]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,78],[10,78]],"newRange":[[10,78],[10,80]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,80],[10,80]],"newRange":[[10,80],[10,82]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,82],[10,82]],"newRange":[[10,82],[10,84]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,84],[10,84]],"newRange":[[10,84],[10,86]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,86],[10,86]],"newRange":[[10,86],[10,88]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,88],[10,88]],"newRange":[[10,88],[10,90]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,90],[10,90]],"newRange":[[10,90],[10,92]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,92],[10,92]],"newRange":[[10,92],[10,94]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,94],[10,94]],"newRange":[[10,94],[10,96]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,96],[10,96]],"newRange":[[10,96],[10,98]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,98],[10,98]],"newRange":[[10,98],[10,100]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,100],[10,100]],"newRange":[[10,100],[10,102]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,102],[10,102]],"newRange":[[10,102],[10,104]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,104],[10,104]],"newRange":[[10,104],[10,106]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,106],[10,106]],"newRange":[[10,106],[10,108]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,108],[10,108]],"newRange":[[10,108],[10,109]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,109],[10,109]],"newRange":[[10,109],[10,110]],"oldText":"","newText":"#"}},{"type":"change","content":{"oldRange":[[10,110],[10,110]],"newRange":[[10,110],[10,111]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,111],[10,111]],"newRange":[[10,111],[10,112]],"oldText":"","newText":"2"}},{"type":"change","content":{"oldRange":[[11,42],[11,42]],"newRange":[[11,42],[11,44]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,44],[11,44]],"newRange":[[11,44],[11,46]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,46],[11,46]],"newRange":[[11,46],[11,48]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,48],[11,48]],"newRange":[[11,48],[11,50]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,50],[11,50]],"newRange":[[11,50],[11,52]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,52],[11,52]],"newRange":[[11,52],[11,54]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,54],[11,54]],"newRange":[[11,54],[11,56]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,56],[11,56]],"newRange":[[11,56],[11,58]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,58],[11,58]],"newRange":[[11,58],[11,60]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,60],[11,60]],"newRange":[[11,60],[11,62]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,62],[11,62]],"newRange":[[11,62],[11,64]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,64],[11,64]],"newRange":[[11,64],[11,66]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,66],[11,66]],"newRange":[[11,66],[11,68]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,68],[11,68]],"newRange":[[11,68],[11,70]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,70],[11,70]],"newRange":[[11,70],[11,72]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,72],[11,72]],"newRange":[[11,72],[11,74]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,74],[11,74]],"newRange":[[11,74],[11,76]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,76],[11,76]],"newRange":[[11,76],[11,78]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,78],[11,78]],"newRange":[[11,78],[11,80]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,80],[11,80]],"newRange":[[11,80],[11,82]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,82],[11,82]],"newRange":[[11,82],[11,84]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,84],[11,84]],"newRange":[[11,84],[11,86]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,86],[11,86]],"newRange":[[11,86],[11,88]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,88],[11,88]],"newRange":[[11,88],[11,90]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,90],[11,90]],"newRange":[[11,90],[11,92]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,92],[11,92]],"newRange":[[11,92],[11,94]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,94],[11,94]],"newRange":[[11,94],[11,96]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,96],[11,96]],"newRange":[[11,96],[11,98]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,98],[11,98]],"newRange":[[11,98],[11,100]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,100],[11,100]],"newRange":[[11,100],[11,102]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,102],[11,102]],"newRange":[[11,102],[11,104]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,104],[11,104]],"newRange":[[11,104],[11,106]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,106],[11,106]],"newRange":[[11,106],[11,108]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,108],[11,108]],"newRange":[[11,108],[11,109]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[11,109],[11,109]],"newRange":[[11,109],[11,110]],"oldText":"","newText":"#"}},{"type":"change","content":{"oldRange":[[11,110],[11,110]],"newRange":[[11,110],[11,111]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[11,111],[11,111]],"newRange":[[11,111],[11,112]],"oldText":"","newText":"2"}},{"type":"change","content":{"oldRange":[[12,69],[12,69]],"newRange":[[12,69],[12,70]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[12,70],[12,70]],"newRange":[[12,70],[12,72]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,72],[12,72]],"newRange":[[12,72],[12,74]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,74],[12,74]],"newRange":[[12,74],[12,76]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,76],[12,76]],"newRange":[[12,76],[12,78]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,78],[12,78]],"newRange":[[12,78],[12,80]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,80],[12,80]],"newRange":[[12,80],[12,82]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,82],[12,82]],"newRange":[[12,82],[12,84]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,84],[12,84]],"newRange":[[12,84],[12,86]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,86],[12,86]],"newRange":[[12,86],[12,88]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,88],[12,88]],"newRange":[[12,88],[12,90]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,90],[12,90]],"newRange":[[12,90],[12,92]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,92],[12,92]],"newRange":[[12,92],[12,94]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,94],[12,94]],"newRange":[[12,94],[12,96]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,96],[12,96]],"newRange":[[12,96],[12,98]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,98],[12,98]],"newRange":[[12,98],[12,100]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,100],[12,100]],"newRange":[[12,100],[12,102]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,102],[12,102]],"newRange":[[12,102],[12,104]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,104],[12,104]],"newRange":[[12,104],[12,106]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,106],[12,106]],"newRange":[[12,106],[12,108]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[12,108],[12,108]],"newRange":[[12,108],[12,109]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[12,109],[12,109]],"newRange":[[12,109],[12,110]],"oldText":"","newText":"#"}},{"type":"change","content":{"oldRange":[[12,110],[12,110]],"newRange":[[12,110],[12,111]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[12,111],[12,111]],"newRange":[[12,111],[12,112]],"oldText":"","newText":"2"}},{"type":"change","content":{"oldRange":[[31,0],[31,0]],"newRange":[[31,0],[32,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[32,0],[32,0]],"newRange":[[32,0],[32,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[31,0],[31,0]],"newRange":[[31,0],[31,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[32,0],[32,0]],"newRange":[[32,0],[32,33]],"oldText":"","newText":"@business.sales_day_book_entries."}},{"type":"change","content":{"oldRange":[[32,33],[32,33]],"newRange":[[32,33],[32,60]],"oldText":"","newText":"joins(:transaction_record)."}},{"type":"change","content":{"oldRange":[[32,60],[32,60]],"newRange":[[32,60],[32,99]],"oldText":"","newText":"where(\"NOT transactions.is_corrected\")."}},{"type":"change","content":{"oldRange":[[32,99],[32,99]],"newRange":[[32,99],[32,139]],"oldText":"","newText":"where(:corrected_with_updated => false)."}},{"type":"change","content":{"oldRange":[[32,139],[32,139]],"newRange":[[32,139],[32,179]],"oldText":"","newText":"where(:corrected_with_updated => false)."}},{"type":"change","content":{"oldRange":[[31,0],[31,0]],"newRange":[[31,0],[31,1]],"oldText":"","newText":"1"}},{"type":"change","content":{"oldRange":[[31,1],[31,1]],"newRange":[[31,1],[31,2]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[31,2],[31,2]],"newRange":[[31,2],[31,3]],"oldText":"","newText":"+"}},{"type":"change","content":{"oldRange":[[31,3],[31,3]],"newRange":[[31,3],[31,4]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[31,4],[31,4]],"newRange":[[31,4],[31,5]],"oldText":"","newText":"2"}},{"type":"change","content":{"oldRange":[[25,32],[30,5]],"newRange":[[25,32],[25,32]],"oldText":".joins(\"LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id\").first\n=> Mysql2::Error: Unknown column 'transactions.origin_id' in 'on clause': SELECT `ledger_entries`.* FROM `ledger_entries` LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id WHERE `ledger_entries`.`business_id` = 1\n\n\n@business.sales_day_book_entries.joins(:transaction).joins(\"LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id\").all\n=> []","newText":""}},{"type":"change","content":{"oldRange":[[25,32],[25,32]],"newRange":[[25,32],[26,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[26,0],[26,0]],"newRange":[[26,0],[26,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[25,0],[25,0]],"newRange":[[25,0],[26,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[26,0],[26,0]],"newRange":[[26,0],[26,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[25,0],[25,0]],"newRange":[[25,0],[25,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[25,0],[25,0]],"newRange":[[25,0],[25,1]],"oldText":"","newText":"1"}},{"type":"change","content":{"oldRange":[[33,160],[33,160]],"newRange":[[33,160],[34,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[34,0],[34,0]],"newRange":[[34,0],[34,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[34,0],[34,0]],"newRange":[[34,0],[35,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[35,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[34,0],[34,0]],"newRange":[[34,0],[34,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[36,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[36,0],[36,0]],"newRange":[[36,0],[36,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[35,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[36,0],[36,0]],"newRange":[[36,0],[37,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[37,0],[37,0]],"newRange":[[37,0],[37,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[36,0],[36,0]],"newRange":[[36,0],[36,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[34,0],[34,0]],"newRange":[[34,0],[39,0]],"oldText":"","newText":"1\n@business.sales_day_book_entries\n\n1 + 2\n@business.sales_day_book_entries.joins(:transaction_record).where(\"NOT transactions.is_corrected\").where(:corrected_with_updated => false).where(:corrected_with_updated => false).\n"}},{"type":"change","content":{"oldRange":[[34,0],[34,0]],"newRange":[[34,0],[34,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[38,179],[38,179]],"newRange":[[38,179],[38,180]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[38,180],[38,180]],"newRange":[[38,180],[38,181]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[38,181],[38,181]],"newRange":[[38,181],[38,182]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[38,182],[38,182]],"newRange":[[38,182],[38,183]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[38,183],[38,183]],"newRange":[[38,183],[38,184]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[38,183],[38,184]],"newRange":[[38,183],[38,183]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[38,182],[38,183]],"newRange":[[38,182],[38,182]],"oldText":"s","newText":""}},{"type":"change","content":{"oldRange":[[38,181],[38,182]],"newRange":[[38,181],[38,181]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[38,180],[38,181]],"newRange":[[38,180],[38,180]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[38,179],[38,180]],"newRange":[[38,179],[38,179]],"oldText":"f","newText":""}},{"type":"change","content":{"oldRange":[[29,179],[29,179]],"newRange":[[29,179],[29,246]],"oldText":"","newText":"where('transactions.origin_type <> ?', AdvancedUk::Correction.name)"}},{"type":"change","content":{"oldRange":[[29,246],[29,246]],"newRange":[[29,246],[29,247]],"oldText":"","newText":"."}},{"type":"change","content":{"oldRange":[[29,247],[29,247]],"newRange":[[29,247],[29,248]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[29,248],[29,248]],"newRange":[[29,248],[29,249]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[29,249],[29,249]],"newRange":[[29,249],[29,250]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[29,250],[29,250]],"newRange":[[29,250],[29,251]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[29,251],[29,251]],"newRange":[[29,251],[29,252]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[30,0],[30,0]],"newRange":[[30,0],[30,1]],"oldText":"","newText":"-"}},{"type":"change","content":{"oldRange":[[30,0],[30,1]],"newRange":[[30,0],[30,0]],"oldText":"-","newText":""}},{"type":"change","content":{"oldRange":[[30,0],[30,0]],"newRange":[[30,0],[30,1]],"oldText":"","newText":"="}},{"type":"change","content":{"oldRange":[[30,1],[30,1]],"newRange":[[30,1],[30,2]],"oldText":"","newText":">"}},{"type":"change","content":{"oldRange":[[30,2],[30,2]],"newRange":[[30,2],[30,3]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[30,3],[30,3]],"newRange":[[30,3],[30,4]],"oldText":"","newText":"b"}},{"type":"change","content":{"oldRange":[[30,4],[30,4]],"newRange":[[30,4],[30,5]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[30,4],[30,5]],"newRange":[[30,4],[30,4]],"oldText":"u","newText":""}},{"type":"change","content":{"oldRange":[[30,3],[30,4]],"newRange":[[30,3],[30,3]],"oldText":"b","newText":""}},{"type":"change","content":{"oldRange":[[30,3],[30,3]],"newRange":[[30,3],[30,4]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[30,4],[30,4]],"newRange":[[30,4],[30,5]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[30,5],[30,5]],"newRange":[[30,5],[30,6]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[38,0],[38,179]],"newRange":[[38,0],[40,0]],"oldText":"@business.sales_day_book_entries.joins(:transaction_record).where(\"NOT transactions.is_corrected\").where(:corrected_with_updated => false).where(:corrected_with_updated => false).","newText":"@business.sales_day_book_entries.joins(:transaction_record).where(\"NOT transactions.is_corrected\").where(:corrected_with_updated => false).where(:corrected_with_updated => false).where('transactions.origin_type <> ?', AdvancedUk::Correction.name).first\n=> nil\n"}},{"type":"change","content":{"oldRange":[[38,0],[38,0]],"newRange":[[38,0],[38,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[29,57],[29,58]],"newRange":[[29,57],[29,57]],"oldText":"d","newText":""}},{"type":"change","content":{"oldRange":[[29,56],[29,57]],"newRange":[[29,56],[29,56]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[29,55],[29,56]],"newRange":[[29,55],[29,55]],"oldText":"o","newText":""}},{"type":"change","content":{"oldRange":[[29,54],[29,55]],"newRange":[[29,54],[29,54]],"oldText":"c","newText":""}},{"type":"change","content":{"oldRange":[[29,53],[29,54]],"newRange":[[29,53],[29,53]],"oldText":"e","newText":""}},{"type":"change","content":{"oldRange":[[29,52],[29,53]],"newRange":[[29,52],[29,52]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[29,51],[29,52]],"newRange":[[29,51],[29,51]],"oldText":"_","newText":""}},{"type":"change","content":{"oldRange":[[29,51],[29,51]],"newRange":[[29,51],[29,52]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[29,51],[29,52]],"newRange":[[29,51],[29,51]],"oldText":"s","newText":""}},{"type":"change","content":{"oldRange":[[12,112],[12,112]],"newRange":[[12,112],[13,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[13,0],[13,0]],"newRange":[[13,0],[13,2]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,2],[13,2]],"newRange":[[13,2],[15,38]],"oldText":"","newText":"joins(:transaction_record => [:transaction_type]).\n      includes(:transaction_record => [:transaction_type, :origin]).\n      order('ledger_entries.date ASC')"}},{"type":"change","content":{"oldRange":[[13,0],[13,2]],"newRange":[[13,0],[13,2]],"oldText":"  ","newText":"  "}},{"type":"change","content":{"oldRange":[[12,69],[12,69]],"newRange":[[12,69],[12,70]],"oldText":"","newText":"."}},{"type":"change","content":{"oldRange":[[12,71],[12,72]],"newRange":[[12,71],[12,71]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[14,4],[14,6]],"newRange":[[14,4],[14,4]],"oldText":"  ","newText":""}},{"type":"change","content":{"oldRange":[[14,2],[14,4]],"newRange":[[14,2],[14,2]],"oldText":"  ","newText":""}},{"type":"change","content":{"oldRange":[[15,4],[15,6]],"newRange":[[15,4],[15,4]],"oldText":"  ","newText":""}},{"type":"change","content":{"oldRange":[[15,2],[15,4]],"newRange":[[15,2],[15,2]],"oldText":"  ","newText":""}},{"type":"change","content":{"oldRange":[[15,34],[15,34]],"newRange":[[15,34],[15,35]],"oldText":"","newText":"."}},{"type":"change","content":{"oldRange":[[13,52],[13,52]],"newRange":[[13,52],[13,54]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,54],[13,54]],"newRange":[[13,54],[13,56]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,56],[13,56]],"newRange":[[13,56],[13,58]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,58],[13,58]],"newRange":[[13,58],[13,60]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,60],[13,60]],"newRange":[[13,60],[13,62]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,62],[13,62]],"newRange":[[13,62],[13,64]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,64],[13,64]],"newRange":[[13,64],[13,66]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,66],[13,66]],"newRange":[[13,66],[13,68]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,68],[13,68]],"newRange":[[13,68],[13,70]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,70],[13,70]],"newRange":[[13,70],[13,72]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,72],[13,72]],"newRange":[[13,72],[13,74]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,74],[13,74]],"newRange":[[13,74],[13,76]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,76],[13,76]],"newRange":[[13,76],[13,78]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,78],[13,78]],"newRange":[[13,78],[13,80]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,80],[13,80]],"newRange":[[13,80],[13,82]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,82],[13,82]],"newRange":[[13,82],[13,84]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,84],[13,84]],"newRange":[[13,84],[13,86]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,86],[13,86]],"newRange":[[13,86],[13,88]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,88],[13,88]],"newRange":[[13,88],[13,90]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,90],[13,90]],"newRange":[[13,90],[13,92]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,92],[13,92]],"newRange":[[13,92],[13,94]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,94],[13,94]],"newRange":[[13,94],[13,96]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,96],[13,96]],"newRange":[[13,96],[13,98]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,98],[13,98]],"newRange":[[13,98],[13,100]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,100],[13,100]],"newRange":[[13,100],[13,102]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,102],[13,102]],"newRange":[[13,102],[13,104]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,104],[13,104]],"newRange":[[13,104],[13,106]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,106],[13,106]],"newRange":[[13,106],[13,108]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[13,108],[13,108]],"newRange":[[13,108],[13,109]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[13,109],[13,109]],"newRange":[[13,109],[13,110]],"oldText":"","newText":"#"}},{"type":"change","content":{"oldRange":[[13,110],[13,110]],"newRange":[[13,110],[13,111]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[13,111],[13,111]],"newRange":[[13,111],[13,112]],"oldText":"","newText":"3"}},{"type":"change","content":{"oldRange":[[13,112],[13,112]],"newRange":[[13,112],[13,113]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[13,113],[13,113]],"newRange":[[13,113],[13,114]],"oldText":"","newText":"-"}},{"type":"change","content":{"oldRange":[[13,114],[13,114]],"newRange":[[13,114],[13,115]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[13,115],[13,115]],"newRange":[[13,115],[13,116]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[13,116],[13,116]],"newRange":[[13,116],[13,117]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[13,117],[13,117]],"newRange":[[13,117],[13,118]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[13,118],[13,118]],"newRange":[[13,118],[13,119]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[13,119],[13,119]],"newRange":[[13,119],[13,120]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[13,120],[13,120]],"newRange":[[13,120],[13,121]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[13,121],[13,121]],"newRange":[[13,121],[13,122]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[13,122],[13,122]],"newRange":[[13,122],[13,123]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[13,123],[13,123]],"newRange":[[13,123],[13,124]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[13,124],[13,124]],"newRange":[[13,124],[13,125]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[13,125],[13,125]],"newRange":[[13,125],[13,126]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[13,126],[13,126]],"newRange":[[13,126],[13,127]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[13,127],[13,127]],"newRange":[[13,127],[13,128]],"oldText":"","newText":"p"}},{"type":"change","content":{"oldRange":[[13,128],[13,128]],"newRange":[[13,128],[13,129]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[13,128],[13,129]],"newRange":[[13,128],[13,128]],"oldText":"e","newText":""}},{"type":"change","content":{"oldRange":[[13,127],[13,128]],"newRange":[[13,127],[13,127]],"oldText":"p","newText":""}},{"type":"change","content":{"oldRange":[[13,126],[13,127]],"newRange":[[13,126],[13,126]],"oldText":"o","newText":""}},{"type":"change","content":{"oldRange":[[13,125],[13,126]],"newRange":[[13,125],[13,125]],"oldText":"c","newText":""}},{"type":"change","content":{"oldRange":[[13,124],[13,125]],"newRange":[[13,124],[13,124]],"oldText":"s","newText":""}},{"type":"change","content":{"oldRange":[[13,123],[13,124]],"newRange":[[13,123],[13,123]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[13,122],[13,123]],"newRange":[[13,122],[13,122]],"oldText":"l","newText":""}},{"type":"change","content":{"oldRange":[[13,121],[13,122]],"newRange":[[13,121],[13,121]],"oldText":"a","newText":""}},{"type":"change","content":{"oldRange":[[13,120],[13,121]],"newRange":[[13,120],[13,120]],"oldText":"n","newText":""}},{"type":"change","content":{"oldRange":[[13,119],[13,120]],"newRange":[[13,119],[13,119]],"oldText":"o","newText":""}},{"type":"change","content":{"oldRange":[[13,118],[13,119]],"newRange":[[13,118],[13,118]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[13,117],[13,118]],"newRange":[[13,117],[13,117]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[13,117],[13,117]],"newRange":[[13,117],[13,118]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[13,118],[13,118]],"newRange":[[13,118],[13,119]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[13,119],[13,119]],"newRange":[[13,119],[13,120]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[13,120],[13,120]],"newRange":[[13,120],[13,121]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[13,121],[13,121]],"newRange":[[13,121],[13,122]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[13,122],[13,122]],"newRange":[[13,122],[13,123]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[13,123],[13,123]],"newRange":[[13,123],[13,124]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[13,124],[13,124]],"newRange":[[13,124],[13,125]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[13,125],[13,125]],"newRange":[[13,125],[13,126]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[13,126],[13,126]],"newRange":[[13,126],[13,127]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[13,126],[13,127]],"newRange":[[13,126],[13,126]],"oldText":"o","newText":""}},{"type":"change","content":{"oldRange":[[13,125],[13,126]],"newRange":[[13,125],[13,125]],"oldText":"c","newText":""}},{"type":"change","content":{"oldRange":[[13,124],[13,125]],"newRange":[[13,124],[13,124]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[13,123],[13,124]],"newRange":[[13,123],[13,123]],"oldText":"l","newText":""}},{"type":"change","content":{"oldRange":[[13,122],[13,123]],"newRange":[[13,122],[13,122]],"oldText":"a","newText":""}},{"type":"change","content":{"oldRange":[[13,121],[13,122]],"newRange":[[13,121],[13,121]],"oldText":"n","newText":""}},{"type":"change","content":{"oldRange":[[13,120],[13,121]],"newRange":[[13,120],[13,120]],"oldText":"o","newText":""}},{"type":"change","content":{"oldRange":[[13,119],[13,120]],"newRange":[[13,119],[13,119]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[13,118],[13,119]],"newRange":[[13,118],[13,118]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[13,117],[13,118]],"newRange":[[13,117],[13,117]],"oldText":"d","newText":""}},{"type":"change","content":{"oldRange":[[13,117],[13,117]],"newRange":[[13,117],[13,118]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[13,118],[13,118]],"newRange":[[13,118],[13,119]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[13,119],[13,119]],"newRange":[[13,119],[13,120]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[13,120],[13,120]],"newRange":[[13,120],[13,121]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[13,121],[13,121]],"newRange":[[13,121],[13,122]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[13,122],[13,122]],"newRange":[[13,122],[13,123]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[13,123],[13,123]],"newRange":[[13,123],[13,124]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[13,124],[13,124]],"newRange":[[13,124],[13,125]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[13,115],[13,124]],"newRange":[[13,115],[13,125]],"oldText":"aditional","newText":"additional"}},{"type":"change","content":{"oldRange":[[13,125],[13,125]],"newRange":[[13,125],[13,126]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[13,126],[13,126]],"newRange":[[13,126],[13,127]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[13,127],[13,127]],"newRange":[[13,127],[13,128]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[13,128],[13,128]],"newRange":[[13,128],[13,129]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[13,129],[13,129]],"newRange":[[13,129],[13,130]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[13,130],[13,130]],"newRange":[[13,130],[13,131]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[13,131],[13,131]],"newRange":[[13,131],[13,132]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[13,132],[13,132]],"newRange":[[13,132],[13,133]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[13,133],[13,133]],"newRange":[[13,133],[13,134]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[13,134],[13,134]],"newRange":[[13,134],[13,135]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[13,135],[13,135]],"newRange":[[13,135],[13,136]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[13,136],[13,136]],"newRange":[[13,136],[13,137]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[13,137],[13,137]],"newRange":[[13,137],[13,138]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[13,138],[13,138]],"newRange":[[13,138],[13,139]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[13,139],[13,139]],"newRange":[[13,139],[13,140]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[13,140],[13,140]],"newRange":[[13,140],[13,141]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[13,141],[13,141]],"newRange":[[13,141],[13,142]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[13,142],[13,142]],"newRange":[[13,142],[13,143]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[13,143],[13,143]],"newRange":[[13,143],[13,144]],"oldText":"","newText":"b"}},{"type":"change","content":{"oldRange":[[13,144],[13,144]],"newRange":[[13,144],[13,145]],"oldText":"","newText":"y"}},{"type":"change","content":{"oldRange":[[13,145],[13,145]],"newRange":[[13,145],[13,146]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[13,146],[13,146]],"newRange":[[13,146],[13,147]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[13,147],[13,147]],"newRange":[[13,147],[13,148]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[13,148],[13,148]],"newRange":[[13,148],[13,149]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[13,149],[13,149]],"newRange":[[13,149],[13,150]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[13,150],[13,150]],"newRange":[[13,150],[13,151]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[13,151],[13,151]],"newRange":[[13,151],[13,152]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[13,152],[13,152]],"newRange":[[13,152],[13,153]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[13,153],[13,153]],"newRange":[[13,153],[13,154]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[13,154],[13,154]],"newRange":[[13,154],[13,155]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[13,155],[13,155]],"newRange":[[13,155],[13,156]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[13,156],[13,156]],"newRange":[[13,156],[13,157]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[13,157],[13,157]],"newRange":[[13,157],[13,158]],"oldText":"","newText":"p"}},{"type":"change","content":{"oldRange":[[13,158],[13,158]],"newRange":[[13,158],[13,159]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[13,159],[13,159]],"newRange":[[13,159],[13,160]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[13,160],[13,160]],"newRange":[[13,160],[13,161]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[13,161],[13,161]],"newRange":[[13,161],[13,162]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[13,162],[13,162]],"newRange":[[13,162],[13,163]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[13,163],[13,163]],"newRange":[[13,163],[13,164]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[13,164],[13,164]],"newRange":[[13,164],[13,165]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[13,165],[13,165]],"newRange":[[13,165],[13,166]],"oldText":"","newText":"y"}},{"type":"change","content":{"oldRange":[[13,166],[13,166]],"newRange":[[13,166],[13,167]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[13,167],[13,167]],"newRange":[[13,167],[13,168]],"oldText":"","newText":"b"}},{"type":"change","content":{"oldRange":[[13,168],[13,168]],"newRange":[[13,168],[13,169]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[13,169],[13,169]],"newRange":[[13,169],[13,170]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[13,170],[13,170]],"newRange":[[13,170],[13,171]],"oldText":"","newText":"k"}},{"type":"change","content":{"oldRange":[[13,171],[13,171]],"newRange":[[13,171],[13,172]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[13,172],[13,172]],"newRange":[[13,172],[13,173]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[13,173],[13,173]],"newRange":[[13,173],[13,174]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[13,174],[13,174]],"newRange":[[13,174],[13,175]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[13,175],[13,175]],"newRange":[[13,175],[13,176]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[13,176],[13,176]],"newRange":[[13,176],[13,177]],"oldText":"","newText":"y"}},{"type":"change","content":{"oldRange":[[13,177],[13,177]],"newRange":[[13,177],[13,178]],"oldText":"","newText":"."}},{"type":"change","content":{"oldRange":[[13,178],[13,178]],"newRange":[[13,178],[13,179]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[13,179],[13,179]],"newRange":[[13,179],[13,180]],"oldText":"","newText":"b"}},{"type":"change","content":{"oldRange":[[14,64],[14,64]],"newRange":[[14,64],[14,66]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,66],[14,66]],"newRange":[[14,66],[14,68]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,68],[14,68]],"newRange":[[14,68],[14,70]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,70],[14,70]],"newRange":[[14,70],[14,72]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,72],[14,72]],"newRange":[[14,72],[14,74]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,74],[14,74]],"newRange":[[14,74],[14,76]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,76],[14,76]],"newRange":[[14,76],[14,78]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,78],[14,78]],"newRange":[[14,78],[14,80]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,80],[14,80]],"newRange":[[14,80],[14,82]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,82],[14,82]],"newRange":[[14,82],[14,84]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,84],[14,84]],"newRange":[[14,84],[14,86]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,86],[14,86]],"newRange":[[14,86],[14,88]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,88],[14,88]],"newRange":[[14,88],[14,90]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,90],[14,90]],"newRange":[[14,90],[14,92]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,92],[14,92]],"newRange":[[14,92],[14,94]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,94],[14,94]],"newRange":[[14,94],[14,96]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,96],[14,96]],"newRange":[[14,96],[14,98]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,98],[14,98]],"newRange":[[14,98],[14,100]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,100],[14,100]],"newRange":[[14,100],[14,102]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,102],[14,102]],"newRange":[[14,102],[14,104]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,104],[14,104]],"newRange":[[14,104],[14,106]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,106],[14,106]],"newRange":[[14,106],[14,108]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,108],[14,108]],"newRange":[[14,108],[14,110]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[14,109],[14,110]],"newRange":[[14,109],[14,109]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[14,109],[14,109]],"newRange":[[14,109],[14,110]],"oldText":"","newText":"#"}},{"type":"change","content":{"oldRange":[[14,110],[14,110]],"newRange":[[14,110],[14,111]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[14,111],[14,111]],"newRange":[[14,111],[14,112]],"oldText":"","newText":"3"}},{"type":"change","content":{"oldRange":[[15,35],[15,35]],"newRange":[[15,35],[15,36]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[15,36],[15,36]],"newRange":[[15,36],[15,38]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,38],[15,38]],"newRange":[[15,38],[15,40]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,40],[15,40]],"newRange":[[15,40],[15,42]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,42],[15,42]],"newRange":[[15,42],[15,44]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,44],[15,44]],"newRange":[[15,44],[15,46]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,46],[15,46]],"newRange":[[15,46],[15,48]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,48],[15,48]],"newRange":[[15,48],[15,50]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,50],[15,50]],"newRange":[[15,50],[15,52]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,52],[15,52]],"newRange":[[15,52],[15,54]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,54],[15,54]],"newRange":[[15,54],[15,56]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,56],[15,56]],"newRange":[[15,56],[15,58]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,58],[15,58]],"newRange":[[15,58],[15,60]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,60],[15,60]],"newRange":[[15,60],[15,62]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,62],[15,62]],"newRange":[[15,62],[15,64]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,64],[15,64]],"newRange":[[15,64],[15,66]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,66],[15,66]],"newRange":[[15,66],[15,68]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,68],[15,68]],"newRange":[[15,68],[15,70]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,70],[15,70]],"newRange":[[15,70],[15,72]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,72],[15,72]],"newRange":[[15,72],[15,74]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,74],[15,74]],"newRange":[[15,74],[15,76]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,76],[15,76]],"newRange":[[15,76],[15,78]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,78],[15,78]],"newRange":[[15,78],[15,80]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,80],[15,80]],"newRange":[[15,80],[15,82]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,82],[15,82]],"newRange":[[15,82],[15,84]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,84],[15,84]],"newRange":[[15,84],[15,86]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,86],[15,86]],"newRange":[[15,86],[15,88]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,88],[15,88]],"newRange":[[15,88],[15,90]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,90],[15,90]],"newRange":[[15,90],[15,92]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,92],[15,92]],"newRange":[[15,92],[15,94]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,94],[15,94]],"newRange":[[15,94],[15,96]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,96],[15,96]],"newRange":[[15,96],[15,98]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,98],[15,98]],"newRange":[[15,98],[15,100]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,100],[15,100]],"newRange":[[15,100],[15,102]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,102],[15,102]],"newRange":[[15,102],[15,104]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,104],[15,104]],"newRange":[[15,104],[15,106]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,106],[15,106]],"newRange":[[15,106],[15,108]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[15,108],[15,108]],"newRange":[[15,108],[15,109]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[15,109],[15,109]],"newRange":[[15,109],[15,110]],"oldText":"","newText":"#"}},{"type":"change","content":{"oldRange":[[15,110],[15,110]],"newRange":[[15,110],[15,111]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[15,111],[15,111]],"newRange":[[15,111],[15,112]],"oldText":"","newText":"4"}},{"type":"change","content":{"oldRange":[[15,111],[15,112]],"newRange":[[15,111],[15,111]],"oldText":"4","newText":""}},{"type":"change","content":{"oldRange":[[15,111],[15,111]],"newRange":[[15,111],[15,112]],"oldText":"","newText":"3"}},{"type":"change","content":{"oldRange":[[13,180],[13,181]],"newRange":[[13,180],[13,180]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[42,6],[42,6]],"newRange":[[42,6],[43,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[43,0],[43,0]],"newRange":[[43,0],[43,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[43,0],[43,0]],"newRange":[[43,0],[44,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[44,0],[44,0]],"newRange":[[44,0],[44,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[43,0],[43,0]],"newRange":[[43,0],[43,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[44,0],[44,0]],"newRange":[[44,0],[44,1]],"oldText":"","newText":"1"}},{"type":"change","content":{"oldRange":[[44,1],[44,1]],"newRange":[[44,1],[44,2]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[44,2],[44,2]],"newRange":[[44,2],[44,3]],"oldText":"","newText":"+"}},{"type":"change","content":{"oldRange":[[44,3],[44,3]],"newRange":[[44,3],[44,4]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[44,4],[44,4]],"newRange":[[44,4],[44,5]],"oldText":"","newText":"2"}},{"type":"change","content":{"oldRange":[[44,5],[44,5]],"newRange":[[44,5],[44,6]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[44,6],[44,6]],"newRange":[[44,6],[44,7]],"oldText":"","newText":"+"}},{"type":"change","content":{"oldRange":[[44,7],[44,7]],"newRange":[[44,7],[44,8]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[44,8],[44,8]],"newRange":[[44,8],[44,9]],"oldText":"","newText":"3"}},{"type":"change","content":{"oldRange":[[45,0],[45,0]],"newRange":[[45,0],[45,252]],"oldText":"","newText":"@business.sales_day_book_entries.joins(:transaction_record).where(\"NOT transactions.is_corrected\").where(:corrected_with_updated => false).where(:corrected_with_updated => false).where('transactions.origin_type <> ?', AdvancedUk::Correction.name).first"}},{"type":"change","content":{"oldRange":[[45,251],[45,252]],"newRange":[[45,251],[45,251]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[45,250],[45,251]],"newRange":[[45,250],[45,250]],"oldText":"s","newText":""}},{"type":"change","content":{"oldRange":[[45,249],[45,250]],"newRange":[[45,249],[45,249]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[45,248],[45,249]],"newRange":[[45,248],[45,248]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[45,247],[45,248]],"newRange":[[45,247],[45,247]],"oldText":"f","newText":""}},{"type":"change","content":{"oldRange":[[45,247],[45,247]],"newRange":[[45,247],[45,297]],"oldText":"","newText":"joins(:transaction_record => [:transaction_type])."}},{"type":"change","content":{"oldRange":[[45,297],[45,297]],"newRange":[[45,297],[45,359]],"oldText":"","newText":"includes(:transaction_record => [:transaction_type, :origin])."}},{"type":"change","content":{"oldRange":[[45,359],[45,359]],"newRange":[[45,359],[45,391]],"oldText":"","newText":"order('ledger_entries.date ASC')"}},{"type":"change","content":{"oldRange":[[45,391],[45,391]],"newRange":[[45,391],[45,392]],"oldText":"","newText":"."}},{"type":"change","content":{"oldRange":[[45,392],[45,392]],"newRange":[[45,392],[45,393]],"oldText":"","newText":"f"}},{"type":"change","content":{"oldRange":[[45,393],[45,393]],"newRange":[[45,393],[45,394]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[45,394],[45,394]],"newRange":[[45,394],[45,395]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[45,395],[45,395]],"newRange":[[45,395],[45,396]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[45,396],[45,396]],"newRange":[[45,396],[45,397]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[45,397],[45,397]],"newRange":[[45,397],[46,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[46,0],[46,0]],"newRange":[[46,0],[46,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[46,0],[46,0]],"newRange":[[46,0],[46,1]],"oldText":"","newText":"="}},{"type":"change","content":{"oldRange":[[46,1],[46,1]],"newRange":[[46,1],[46,2]],"oldText":"","newText":">"}},{"type":"change","content":{"oldRange":[[46,2],[46,2]],"newRange":[[46,2],[46,3]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[46,3],[46,3]],"newRange":[[46,3],[46,4]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[46,4],[46,4]],"newRange":[[46,4],[46,5]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[46,5],[46,5]],"newRange":[[46,5],[46,6]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[34,0],[34,0]],"newRange":[[34,0],[35,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[35,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[34,0],[34,0]],"newRange":[[34,0],[34,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[35,1]],"oldText":"","newText":"1"}},{"type":"change","content":{"oldRange":[[35,1],[35,1]],"newRange":[[35,1],[35,2]],"oldText":"","newText":"+"}},{"type":"change","content":{"oldRange":[[35,1],[35,2]],"newRange":[[35,1],[35,1]],"oldText":"+","newText":""}},{"type":"change","content":{"oldRange":[[35,1],[35,1]],"newRange":[[35,1],[35,2]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[35,2],[35,2]],"newRange":[[35,2],[35,3]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[35,3],[35,3]],"newRange":[[35,3],[35,4]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[35,3],[35,4]],"newRange":[[35,3],[35,3]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[35,3],[35,3]],"newRange":[[35,3],[35,4]],"oldText":"","newText":"+"}},{"type":"change","content":{"oldRange":[[35,3],[35,4]],"newRange":[[35,3],[35,3]],"oldText":"+","newText":""}},{"type":"change","content":{"oldRange":[[35,2],[35,3]],"newRange":[[35,2],[35,2]],"oldText":"_","newText":""}},{"type":"change","content":{"oldRange":[[35,2],[35,2]],"newRange":[[35,2],[35,3]],"oldText":"","newText":"+"}},{"type":"change","content":{"oldRange":[[35,3],[35,3]],"newRange":[[35,3],[35,4]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[35,4],[35,4]],"newRange":[[35,4],[35,5]],"oldText":"","newText":"2"}},{"type":"change","content":{"oldRange":[[35,5],[35,5]],"newRange":[[35,5],[35,6]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[35,6],[35,6]],"newRange":[[35,6],[35,7]],"oldText":"","newText":"+"}},{"type":"change","content":{"oldRange":[[35,7],[35,7]],"newRange":[[35,7],[35,8]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[35,8],[35,8]],"newRange":[[35,8],[35,9]],"oldText":"","newText":"3"}},{"type":"change","content":{"oldRange":[[35,9],[35,9]],"newRange":[[35,9],[36,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[36,0],[36,0]],"newRange":[[36,0],[36,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[36,0],[36,0]],"newRange":[[36,0],[36,245]],"oldText":"","newText":"@business.sales_day_book_entries.joins(:transaction).where(\"NOT transactions.is_corrected\").where(:corrected_with_updated => false).where(:corrected_with_updated => false).where('transactions.origin_type <> ?', AdvancedUk::Correction.name).first"}},{"type":"change","content":{"oldRange":[[36,244],[36,245]],"newRange":[[36,244],[36,244]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[36,243],[36,244]],"newRange":[[36,243],[36,243]],"oldText":"s","newText":""}},{"type":"change","content":{"oldRange":[[36,242],[36,243]],"newRange":[[36,242],[36,242]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[36,241],[36,242]],"newRange":[[36,241],[36,241]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[36,240],[36,241]],"newRange":[[36,240],[36,240]],"oldText":"f","newText":""}},{"type":"change","content":{"oldRange":[[36,240],[36,240]],"newRange":[[36,240],[36,391]],"oldText":"","newText":".joins(:transaction_record => [:transaction_type]).includes(:transaction_record => [:transaction_type, :origin]).order('ledger_entries.date ASC').first"}},{"type":"change","content":{"oldRange":[[36,240],[36,241]],"newRange":[[36,240],[36,240]],"oldText":".","newText":""}},{"type":"change","content":{"oldRange":[[36,264],[36,265]],"newRange":[[36,264],[36,264]],"oldText":"d","newText":""}},{"type":"change","content":{"oldRange":[[36,263],[36,264]],"newRange":[[36,263],[36,263]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[36,262],[36,263]],"newRange":[[36,262],[36,262]],"oldText":"o","newText":""}},{"type":"change","content":{"oldRange":[[36,261],[36,262]],"newRange":[[36,261],[36,261]],"oldText":"c","newText":""}},{"type":"change","content":{"oldRange":[[36,260],[36,261]],"newRange":[[36,260],[36,260]],"oldText":"e","newText":""}},{"type":"change","content":{"oldRange":[[36,259],[36,260]],"newRange":[[36,259],[36,259]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[36,258],[36,259]],"newRange":[[36,258],[36,258]],"oldText":"_","newText":""}},{"type":"change","content":{"oldRange":[[36,310],[36,311]],"newRange":[[36,310],[36,310]],"oldText":"d","newText":""}},{"type":"change","content":{"oldRange":[[36,309],[36,310]],"newRange":[[36,309],[36,309]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[36,308],[36,309]],"newRange":[[36,308],[36,308]],"oldText":"o","newText":""}},{"type":"change","content":{"oldRange":[[36,307],[36,308]],"newRange":[[36,307],[36,307]],"oldText":"c","newText":""}},{"type":"change","content":{"oldRange":[[36,306],[36,307]],"newRange":[[36,306],[36,306]],"oldText":"e","newText":""}},{"type":"change","content":{"oldRange":[[36,305],[36,306]],"newRange":[[36,305],[36,305]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[36,304],[36,305]],"newRange":[[36,304],[36,304]],"oldText":"_","newText":""}},{"type":"change","content":{"oldRange":[[36,376],[36,376]],"newRange":[[36,376],[37,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[37,0],[37,0]],"newRange":[[37,0],[37,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[37,0],[37,0]],"newRange":[[37,0],[37,1]],"oldText":"","newText":"="}},{"type":"change","content":{"oldRange":[[37,1],[37,1]],"newRange":[[37,1],[37,2]],"oldText":"","newText":">"}},{"type":"change","content":{"oldRange":[[37,2],[37,2]],"newRange":[[37,2],[37,3]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[37,3],[37,3]],"newRange":[[37,3],[37,4]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[37,4],[37,4]],"newRange":[[37,4],[37,5]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[37,5],[37,5]],"newRange":[[37,5],[37,6]],"oldText":"","newText":"l"}},{"type":"group-end","snapshot":{"0":{"range":[[38,0],[38,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"checkpoint","id":1389,"snapshot":{"0":{"range":[[0,186],[0,186]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"isBoundary":false},{"type":"group-start","snapshot":{"0":{"range":[[0,186],[0,186]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[0,0],[0,187]],"newRange":[[0,0],[0,0]],"oldText":"business.sales_day_book_entries.joins(\"LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id\").where(\"transactions.transaction_type_id IN (?) AND is_allocator = true\", [1,2])","newText":""}},{"type":"change","content":{"oldRange":[[5,0],[6,0]],"newRange":[[5,0],[5,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[4,0],[5,0]],"newRange":[[4,0],[4,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[3,0],[4,0]],"newRange":[[3,0],[3,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[2,0],[3,0]],"newRange":[[2,0],[2,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[1,0],[2,0]],"newRange":[[1,0],[1,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[0,0],[1,0]],"newRange":[[0,0],[0,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[10,0],[10,0]],"newRange":[[10,0],[11,97]],"oldText":"","newText":"        .joins(\"LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id\")\n  .where(\"transactions.transaction_type_id IN (?) AND is_allocator = true\", transaction_type_ids)"}},{"type":"change","content":{"oldRange":[[10,0],[10,8]],"newRange":[[10,0],[10,2]],"oldText":"        ","newText":"  "}},{"type":"change","content":{"oldRange":[[10,78],[10,78]],"newRange":[[10,78],[10,79]],"oldText":"","newText":"."}},{"type":"change","content":{"oldRange":[[11,97],[11,97]],"newRange":[[11,97],[11,98]],"oldText":"","newText":"."}},{"type":"change","content":{"oldRange":[[10,2],[10,3]],"newRange":[[10,2],[10,2]],"oldText":".","newText":""}},{"type":"change","content":{"oldRange":[[11,2],[11,3]],"newRange":[[11,2],[11,2]],"oldText":".","newText":""}},{"type":"change","content":{"oldRange":[[10,78],[10,78]],"newRange":[[10,78],[10,80]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,80],[10,80]],"newRange":[[10,80],[10,82]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,82],[10,82]],"newRange":[[10,82],[10,84]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,84],[10,84]],"newRange":[[10,84],[10,86]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,86],[10,86]],"newRange":[[10,86],[10,88]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,88],[10,88]],"newRange":[[10,88],[10,90]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,90],[10,90]],"newRange":[[10,90],[10,92]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,92],[10,92]],"newRange":[[10,92],[10,94]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,94],[10,94]],"newRange":[[10,94],[10,96]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,96],[10,96]],"newRange":[[10,96],[10,98]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,98],[10,98]],"newRange":[[10,98],[10,100]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,100],[10,100]],"newRange":[[10,100],[10,101]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,101],[10,101]],"newRange":[[10,101],[10,102]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,102],[10,102]],"newRange":[[10,102],[10,103]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,103],[10,103]],"newRange":[[10,103],[10,104]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,104],[10,104]],"newRange":[[10,104],[10,105]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,105],[10,105]],"newRange":[[10,105],[10,106]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,106],[10,106]],"newRange":[[10,106],[10,107]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,107],[10,107]],"newRange":[[10,107],[10,108]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,108],[10,108]],"newRange":[[10,108],[10,109]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,109],[10,109]],"newRange":[[10,109],[10,110]],"oldText":"","newText":"#"}},{"type":"change","content":{"oldRange":[[10,110],[10,110]],"newRange":[[10,110],[10,111]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,111],[10,111]],"newRange":[[10,111],[10,112]],"oldText":"","newText":"4"}},{"type":"change","content":{"oldRange":[[11,97],[11,97]],"newRange":[[11,97],[11,98]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[11,98],[11,98]],"newRange":[[11,98],[11,100]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,100],[11,100]],"newRange":[[11,100],[11,102]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,102],[11,102]],"newRange":[[11,102],[11,104]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,104],[11,104]],"newRange":[[11,104],[11,106]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,106],[11,106]],"newRange":[[11,106],[11,108]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,108],[11,108]],"newRange":[[11,108],[11,110]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[11,109],[11,110]],"newRange":[[11,109],[11,109]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[11,109],[11,109]],"newRange":[[11,109],[11,110]],"oldText":"","newText":"#"}},{"type":"change","content":{"oldRange":[[11,110],[11,110]],"newRange":[[11,110],[11,111]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[11,111],[11,111]],"newRange":[[11,111],[11,112]],"oldText":"","newText":"4"}},{"type":"change","content":{"oldRange":[[10,112],[10,112]],"newRange":[[10,112],[10,113]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,113],[10,113]],"newRange":[[10,113],[10,114]],"oldText":"","newText":"-"}},{"type":"change","content":{"oldRange":[[10,114],[10,114]],"newRange":[[10,114],[10,115]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,115],[10,115]],"newRange":[[10,115],[10,116]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[10,116],[10,116]],"newRange":[[10,116],[10,117]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[10,117],[10,117]],"newRange":[[10,117],[10,118]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[10,118],[10,118]],"newRange":[[10,118],[10,119]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[10,119],[10,119]],"newRange":[[10,119],[10,120]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[10,120],[10,120]],"newRange":[[10,120],[10,121]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[10,121],[10,121]],"newRange":[[10,121],[10,122]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[10,122],[10,122]],"newRange":[[10,122],[10,123]],"oldText":"","newText":"l"}},{"type":"change","content":{"oldRange":[[10,123],[10,123]],"newRange":[[10,123],[10,124]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,124],[10,124]],"newRange":[[10,124],[10,125]],"oldText":"","newText":"c"}},{"type":"change","content":{"oldRange":[[10,125],[10,125]],"newRange":[[10,125],[10,126]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[10,126],[10,126]],"newRange":[[10,126],[10,127]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[10,127],[10,127]],"newRange":[[10,127],[10,128]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[10,128],[10,128]],"newRange":[[10,128],[10,129]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[10,129],[10,129]],"newRange":[[10,129],[10,130]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[10,130],[10,130]],"newRange":[[10,130],[10,131]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[10,131],[10,131]],"newRange":[[10,131],[10,132]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[10,132],[10,132]],"newRange":[[10,132],[10,133]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[10,133],[10,133]],"newRange":[[10,133],[10,134]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[10,134],[10,134]],"newRange":[[10,134],[10,135]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,135],[10,135]],"newRange":[[10,135],[10,136]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[10,136],[10,136]],"newRange":[[10,136],[10,137]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[10,137],[10,137]],"newRange":[[10,137],[10,138]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[10,138],[10,138]],"newRange":[[10,138],[10,139]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[10,139],[10,139]],"newRange":[[10,139],[10,140]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[10,140],[10,140]],"newRange":[[10,140],[10,141]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,141],[10,141]],"newRange":[[10,141],[10,142]],"oldText":"","newText":"b"}},{"type":"change","content":{"oldRange":[[10,142],[10,142]],"newRange":[[10,142],[10,143]],"oldText":"","newText":"y"}},{"type":"change","content":{"oldRange":[[10,143],[10,143]],"newRange":[[10,143],[10,144]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,144],[10,144]],"newRange":[[10,144],[10,145]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[10,145],[10,145]],"newRange":[[10,145],[10,146]],"oldText":"","newText":"h"}},{"type":"change","content":{"oldRange":[[10,146],[10,146]],"newRange":[[10,146],[10,147]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[10,147],[10,147]],"newRange":[[10,147],[10,148]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,148],[10,148]],"newRange":[[10,148],[10,149]],"oldText":"","newText":"#"}},{"type":"change","content":{"oldRange":[[10,149],[10,149]],"newRange":[[10,149],[10,150]],"oldText":"","newText":"q"}},{"type":"change","content":{"oldRange":[[10,150],[10,150]],"newRange":[[10,150],[10,151]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[10,150],[10,151]],"newRange":[[10,150],[10,150]],"oldText":"u","newText":""}},{"type":"change","content":{"oldRange":[[10,149],[10,150]],"newRange":[[10,149],[10,149]],"oldText":"q","newText":""}},{"type":"change","content":{"oldRange":[[10,149],[10,149]],"newRange":[[10,149],[10,150]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[10,150],[10,150]],"newRange":[[10,150],[10,151]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[10,151],[10,151]],"newRange":[[10,151],[10,152]],"oldText":"","newText":"p"}},{"type":"change","content":{"oldRange":[[10,152],[10,152]],"newRange":[[10,152],[10,153]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[10,153],[10,153]],"newRange":[[10,153],[10,154]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[10,154],[10,154]],"newRange":[[10,154],[10,155]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[10,155],[10,155]],"newRange":[[10,155],[10,156]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[10,156],[10,156]],"newRange":[[10,156],[10,157]],"oldText":"","newText":"q"}},{"type":"change","content":{"oldRange":[[10,157],[10,157]],"newRange":[[10,157],[10,158]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[10,158],[10,158]],"newRange":[[10,158],[10,159]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[10,159],[10,159]],"newRange":[[10,159],[10,160]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[10,160],[10,160]],"newRange":[[10,160],[10,161]],"oldText":"","newText":"y"}},{"type":"change","content":{"oldRange":[[10,161],[10,161]],"newRange":[[10,161],[10,162]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,162],[10,162]],"newRange":[[10,162],[10,163]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[10,163],[10,163]],"newRange":[[10,163],[10,164]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[10,164],[10,164]],"newRange":[[10,164],[10,165]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[10,165],[10,165]],"newRange":[[10,165],[10,166]],"oldText":"","newText":"d"}},{"type":"change","content":{"oldRange":[[10,166],[10,166]],"newRange":[[10,166],[10,167]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[10,167],[10,167]],"newRange":[[10,167],[10,168]],"oldText":"","newText":"y"}},{"type":"change","content":{"oldRange":[[10,168],[10,168]],"newRange":[[10,168],[10,169]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[10,169],[10,169]],"newRange":[[10,169],[10,170]],"oldText":"","newText":"b"}},{"type":"change","content":{"oldRange":[[10,170],[10,170]],"newRange":[[10,170],[10,171]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[10,171],[10,171]],"newRange":[[10,171],[10,172]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[10,172],[10,172]],"newRange":[[10,172],[10,173]],"oldText":"","newText":"k"}},{"type":"change","content":{"oldRange":[[10,173],[10,173]],"newRange":[[10,173],[10,174]],"oldText":"","newText":"_"}},{"type":"change","content":{"oldRange":[[10,174],[10,174]],"newRange":[[10,174],[10,175]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[10,175],[10,175]],"newRange":[[10,175],[10,176]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[10,176],[10,176]],"newRange":[[10,176],[10,177]],"oldText":"","newText":"p"}},{"type":"change","content":{"oldRange":[[10,177],[10,177]],"newRange":[[10,177],[10,178]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[10,178],[10,178]],"newRange":[[10,178],[10,179]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[10,179],[10,179]],"newRange":[[10,179],[10,180]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[10,180],[10,180]],"newRange":[[10,180],[10,181]],"oldText":"","newText":"."}},{"type":"change","content":{"oldRange":[[10,181],[10,181]],"newRange":[[10,181],[10,182]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[10,182],[10,182]],"newRange":[[10,182],[10,183]],"oldText":"","newText":"b"}},{"type":"change","content":{"oldRange":[[45,0],[45,0]],"newRange":[[45,0],[46,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[46,0],[46,0]],"newRange":[[46,0],[46,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[45,0],[45,0]],"newRange":[[45,0],[45,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[46,0],[46,0]],"newRange":[[46,0],[49,0]],"oldText":"","newText":"1 + 2 + 3\n@business.sales_day_book_entries.joins(:transaction_record).where(\"NOT transactions.is_corrected\").where(:corrected_with_updated => false).where(:corrected_with_updated => false).where('transactions.origin_type <> ?', AdvancedUk::Correction.name).joins(:transaction_record => [:transaction_type]).includes(:transaction_record => [:transaction_type, :origin]).order('ledger_entries.date ASC').first\n=> nil\n"}},{"type":"change","content":{"oldRange":[[46,0],[46,0]],"newRange":[[46,0],[46,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[46,8],[46,9]],"newRange":[[46,8],[46,8]],"oldText":"3","newText":""}},{"type":"change","content":{"oldRange":[[46,8],[46,8]],"newRange":[[46,8],[46,9]],"oldText":"","newText":"4"}},{"type":"change","content":{"oldRange":[[46,8],[46,9]],"newRange":[[46,8],[46,8]],"oldText":"4","newText":""}},{"type":"change","content":{"oldRange":[[46,8],[46,8]],"newRange":[[46,8],[46,9]],"oldText":"","newText":"3"}},{"type":"change","content":{"oldRange":[[46,9],[46,9]],"newRange":[[46,9],[46,10]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[46,10],[46,10]],"newRange":[[46,10],[46,11]],"oldText":"","newText":"+"}},{"type":"change","content":{"oldRange":[[46,11],[46,11]],"newRange":[[46,11],[46,12]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[46,12],[46,12]],"newRange":[[46,12],[46,13]],"oldText":"","newText":"4"}},{"type":"change","content":{"oldRange":[[47,391],[47,391]],"newRange":[[47,391],[47,392]],"oldText":"","newText":"."}},{"type":"change","content":{"oldRange":[[47,392],[47,392]],"newRange":[[47,392],[47,468]],"oldText":"","newText":"joins(\"LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id\")."}},{"type":"change","content":{"oldRange":[[47,468],[47,468]],"newRange":[[47,468],[47,562]],"oldText":"","newText":"where(\"transactions.transaction_type_id IN (?) AND is_allocator = true\", transaction_type_ids)"}},{"type":"change","content":{"oldRange":[[47,568],[47,568]],"newRange":[[47,568],[48,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[48,0],[48,0]],"newRange":[[48,0],[48,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[48,0],[49,0]],"newRange":[[48,0],[48,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[32,6],[32,6]],"newRange":[[32,6],[33,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[33,0],[33,0]],"newRange":[[33,0],[33,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[33,0],[33,0]],"newRange":[[33,0],[34,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[34,0],[34,0]],"newRange":[[34,0],[34,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[33,0],[33,0]],"newRange":[[33,0],[33,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[34,0],[34,0]],"newRange":[[34,0],[35,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[35,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[34,0],[34,0]],"newRange":[[34,0],[34,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[36,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[36,0],[36,0]],"newRange":[[36,0],[36,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[35,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[56,0],[61,6]],"newRange":[[56,0],[56,0]],"oldText":"\n@business.sales_day_book_entries.joins(\"LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id\").first\n=> ActiveRecord::StatementInvalid: Mysql2::Error: Unknown column 'transactions.origin_id' in 'on clause': SELECT  `ledger_entries`.* FROM `ledger_entries` LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id WHERE `ledger_entries`.`business_id` = 1  ORDER BY `ledger_entries`.`id` ASC LIMIT 1\n\n@business.sales_day_book_entries.joins(:transaction_record).joins(\"LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id\").first   # added the joins('transaction_record')\n=> nil","newText":""}},{"type":"change","content":{"oldRange":[[56,0],[57,0]],"newRange":[[56,0],[56,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[55,0],[56,0]],"newRange":[[55,0],[55,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[54,0],[55,0]],"newRange":[[54,0],[54,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[53,0],[54,0]],"newRange":[[53,0],[53,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[14,2],[15,96]],"newRange":[[14,2],[14,2]],"oldText":"joins(\"LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id\").                               # 2 - day_book_report #report_query\n  where(\"transactions.transaction_type_id IN (?) AND is_allocator = true\", transaction_type_ids)","newText":""}},{"type":"change","content":{"oldRange":[[14,0],[14,2]],"newRange":[[14,0],[14,0]],"oldText":"  ","newText":""}},{"type":"change","content":{"oldRange":[[13,0],[14,0]],"newRange":[[13,0],[13,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[32,0],[32,0]],"newRange":[[32,0],[35,0]],"oldText":"","newText":"1 + 2 + 3\n@business.sales_day_book_entries.joins(:transaction).where(\"NOT transactions.is_corrected\").where(:corrected_with_updated => false).where(:corrected_with_updated => false).where('transactions.origin_type <> ?', AdvancedUk::Correction.name).joins(:transaction => [:transaction_type]).includes(:transaction => [:transaction_type, :origin]).order('ledger_entries.date ASC').first\n=> nil\n"}},{"type":"change","content":{"oldRange":[[32,0],[32,0]],"newRange":[[32,0],[32,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[32,8],[32,9]],"newRange":[[32,8],[32,8]],"oldText":"3","newText":""}},{"type":"change","content":{"oldRange":[[32,8],[32,8]],"newRange":[[32,8],[32,9]],"oldText":"","newText":"4"}},{"type":"change","content":{"oldRange":[[32,8],[32,9]],"newRange":[[32,8],[32,8]],"oldText":"4","newText":""}},{"type":"change","content":{"oldRange":[[32,8],[32,8]],"newRange":[[32,8],[32,9]],"oldText":"","newText":"3"}},{"type":"change","content":{"oldRange":[[32,9],[32,9]],"newRange":[[32,9],[32,10]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[32,10],[32,10]],"newRange":[[32,10],[32,11]],"oldText":"","newText":"+"}},{"type":"change","content":{"oldRange":[[32,11],[32,11]],"newRange":[[32,11],[32,12]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[32,12],[32,12]],"newRange":[[32,12],[32,13]],"oldText":"","newText":"4"}},{"type":"change","content":{"oldRange":[[51,13],[51,13]],"newRange":[[51,13],[52,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[52,0],[52,0]],"newRange":[[52,0],[52,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[52,0],[52,0]],"newRange":[[52,0],[52,28]],"oldText":"","newText":"transaction_type_ids = [1,2]"}},{"type":"change","content":{"oldRange":[[32,13],[32,13]],"newRange":[[32,13],[33,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[33,0],[33,0]],"newRange":[[33,0],[33,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[33,0],[33,0]],"newRange":[[33,0],[33,28]],"oldText":"","newText":"transaction_type_ids = [1,2]"}},{"type":"change","content":{"oldRange":[[34,375],[34,376]],"newRange":[[34,375],[34,375]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[34,374],[34,375]],"newRange":[[34,374],[34,374]],"oldText":"s","newText":""}},{"type":"change","content":{"oldRange":[[34,373],[34,374]],"newRange":[[34,373],[34,373]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[34,372],[34,373]],"newRange":[[34,372],[34,372]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[34,371],[34,372]],"newRange":[[34,371],[34,371]],"oldText":"f","newText":""}},{"type":"change","content":{"oldRange":[[34,370],[34,371]],"newRange":[[34,370],[34,370]],"oldText":".","newText":""}},{"type":"change","content":{"oldRange":[[34,370],[34,370]],"newRange":[[34,370],[34,547]],"oldText":"","newText":".joins(\"LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id\").where(\"transactions.transaction_type_id IN (?) AND is_allocator = true\", transaction_type_ids).first"}},{"type":"change","content":{"oldRange":[[54,568],[54,568]],"newRange":[[54,568],[55,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[55,0],[55,0]],"newRange":[[55,0],[55,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[55,0],[56,0]],"newRange":[[55,0],[55,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[55,6],[55,6]],"newRange":[[55,6],[56,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[56,0],[56,0]],"newRange":[[56,0],[56,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[56,0],[56,0]],"newRange":[[56,0],[57,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[57,0],[57,0]],"newRange":[[57,0],[57,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[56,0],[56,0]],"newRange":[[56,0],[56,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[57,0],[57,0]],"newRange":[[57,0],[57,643]],"oldText":"","newText":"=> \"SELECT `ledger_entries`.* FROM `ledger_entries` INNER JOIN `transactions` ON `transactions`.`id` = `ledger_entries`.`transaction_id` INNER JOIN `transaction_types` ON `transaction_types`.`id` = `transactions`.`transaction_type_id` LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id WHERE `ledger_entries`.`business_id` = 1 AND (NOT transactions.is_corrected) AND `ledger_entries`.`corrected_with_updated` = 0 AND `ledger_entries`.`corrected_with_updated` = 0 AND (transactions.origin_type <> 'AdvancedUk::Correction') AND (transactions.transaction_type_id IN (21) AND is_allocator = true)  ORDER BY ledger_entries.date ASC\""}},{"type":"change","content":{"oldRange":[[56,0],[57,0]],"newRange":[[56,0],[56,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[34,547],[34,547]],"newRange":[[34,547],[35,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[35,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[35,0],[36,0]],"newRange":[[35,0],[35,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[35,6],[35,6]],"newRange":[[35,6],[36,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[36,0],[36,0]],"newRange":[[36,0],[36,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[36,0],[36,0]],"newRange":[[36,0],[36,1]],"oldText":"","newText":"="}},{"type":"change","content":{"oldRange":[[36,1],[36,1]],"newRange":[[36,1],[36,2]],"oldText":"","newText":">"}},{"type":"change","content":{"oldRange":[[36,2],[36,2]],"newRange":[[36,2],[36,3]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[36,3],[36,3]],"newRange":[[36,3],[36,642]],"oldText":"","newText":"\"SELECT `ledger_entries`.* FROM `ledger_entries` INNER JOIN `transactions` ON `transactions`.`id` = `ledger_entries`.`transaction_id` INNER JOIN `transaction_types` ON `transaction_types`.`id` = `transactions`.`transaction_type_id` LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id WHERE `ledger_entries`.`business_id` = 1 AND `ledger_entries`.`corrected_with_updated` = 0 AND `ledger_entries`.`corrected_with_updated` = 0 AND (NOT transactions.is_corrected) AND (transactions.origin_type <> 'AdvancedUk::Correction') AND (transactions.transaction_type_id IN (21) AND is_allocator = true) ORDER BY ledger_entries.date ASC\""}},{"type":"change","content":{"oldRange":[[43,32],[43,32]],"newRange":[[43,32],[43,47]],"oldText":"","newText":".sum('dr - cr')"}},{"type":"change","content":{"oldRange":[[43,47],[43,47]],"newRange":[[43,47],[44,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[44,0],[44,0]],"newRange":[[44,0],[44,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[44,0],[44,0]],"newRange":[[44,0],[44,1]],"oldText":"","newText":"="}},{"type":"change","content":{"oldRange":[[44,1],[44,1]],"newRange":[[44,1],[44,2]],"oldText":"","newText":">"}},{"type":"change","content":{"oldRange":[[44,2],[44,2]],"newRange":[[44,2],[44,3]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[44,3],[44,3]],"newRange":[[44,3],[44,4]],"oldText":"","newText":"0"}},{"type":"change","content":{"oldRange":[[47,251],[47,252]],"newRange":[[47,251],[47,251]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[47,250],[47,251]],"newRange":[[47,250],[47,250]],"oldText":"s","newText":""}},{"type":"change","content":{"oldRange":[[47,249],[47,250]],"newRange":[[47,249],[47,249]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[47,248],[47,249]],"newRange":[[47,248],[47,248]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[47,247],[47,248]],"newRange":[[47,247],[47,247]],"oldText":"f","newText":""}},{"type":"change","content":{"oldRange":[[47,246],[47,247]],"newRange":[[47,246],[47,246]],"oldText":".","newText":""}},{"type":"change","content":{"oldRange":[[47,246],[47,246]],"newRange":[[47,246],[47,261]],"oldText":"","newText":".sum('dr - cr')"}},{"type":"change","content":{"oldRange":[[48,5],[48,6]],"newRange":[[48,5],[48,5]],"oldText":"l","newText":""}},{"type":"change","content":{"oldRange":[[48,4],[48,5]],"newRange":[[48,4],[48,4]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[48,3],[48,4]],"newRange":[[48,3],[48,3]],"oldText":"n","newText":""}},{"type":"change","content":{"oldRange":[[48,3],[48,3]],"newRange":[[48,3],[48,4]],"oldText":"","newText":"-"}},{"type":"change","content":{"oldRange":[[48,3],[48,4]],"newRange":[[48,3],[48,3]],"oldText":"-","newText":""}},{"type":"change","content":{"oldRange":[[48,3],[48,3]],"newRange":[[48,3],[48,4]],"oldText":"","newText":"0"}},{"type":"change","content":{"oldRange":[[51,396],[51,397]],"newRange":[[51,396],[51,396]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[51,395],[51,396]],"newRange":[[51,395],[51,395]],"oldText":"s","newText":""}},{"type":"change","content":{"oldRange":[[51,394],[51,395]],"newRange":[[51,394],[51,394]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[51,393],[51,394]],"newRange":[[51,393],[51,393]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[51,392],[51,393]],"newRange":[[51,392],[51,392]],"oldText":"f","newText":""}},{"type":"change","content":{"oldRange":[[51,391],[51,392]],"newRange":[[51,391],[51,391]],"oldText":".","newText":""}},{"type":"change","content":{"oldRange":[[51,391],[51,391]],"newRange":[[51,391],[51,406]],"oldText":"","newText":".sum('dr - cr')"}},{"type":"group-end","snapshot":{"0":{"range":[[52,6],[52,6]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"checkpoint","id":1740,"snapshot":{"0":{"range":[[52,6],[52,6]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"isBoundary":false},{"type":"group-start","snapshot":{"0":{"range":[[52,6],[52,6]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[52,5],[52,6]],"newRange":[[52,5],[52,5]],"oldText":"l","newText":""}},{"type":"change","content":{"oldRange":[[52,4],[52,5]],"newRange":[[52,4],[52,4]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[52,3],[52,4]],"newRange":[[52,3],[52,3]],"oldText":"n","newText":""}},{"type":"change","content":{"oldRange":[[52,3],[52,3]],"newRange":[[52,3],[52,99]],"oldText":"","newText":"ActiveRecord::EagerLoadPolymorphicError: Cannot eagerly load the polymorphic association :origin"}},{"type":"group-end","snapshot":{"0":{"range":[[52,99],[52,99]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"checkpoint","id":1750,"snapshot":{"0":{"range":[[53,0],[53,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"isBoundary":false},{"type":"group-start","snapshot":{"0":{"range":[[53,0],[53,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[53,0],[53,0]],"newRange":[[53,0],[54,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[54,0],[54,0]],"newRange":[[54,0],[54,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[53,0],[53,0]],"newRange":[[53,0],[53,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[54,0],[54,0]],"newRange":[[54,0],[55,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[55,0],[55,0]],"newRange":[[55,0],[55,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[54,0],[54,0]],"newRange":[[54,0],[54,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[55,0],[55,0]],"newRange":[[55,0],[56,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[56,0],[56,0]],"newRange":[[56,0],[56,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[55,0],[55,0]],"newRange":[[55,0],[55,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[56,0],[56,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"checkpoint","id":1759,"snapshot":{"0":{"range":[[22,32],[22,32]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"isBoundary":false},{"type":"group-start","snapshot":{"0":{"range":[[22,32],[22,32]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[22,32],[22,32]],"newRange":[[22,32],[22,47]],"oldText":"","newText":".sum('dr - cr')"}},{"type":"group-end","snapshot":{"0":{"range":[[22,47],[22,47]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"checkpoint","id":1764,"snapshot":{"0":{"range":[[22,33],[22,33]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"isBoundary":false},{"type":"checkpoint","id":1766,"snapshot":{"0":{"range":[[25,245],[25,245]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"isBoundary":false},{"type":"group-start","snapshot":{"0":{"range":[[25,245],[25,245]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[25,244],[25,245]],"newRange":[[25,244],[25,244]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[25,243],[25,244]],"newRange":[[25,243],[25,243]],"oldText":"s","newText":""}},{"type":"change","content":{"oldRange":[[25,242],[25,243]],"newRange":[[25,242],[25,242]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[25,241],[25,242]],"newRange":[[25,241],[25,241]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[25,240],[25,241]],"newRange":[[25,240],[25,240]],"oldText":"f","newText":""}},{"type":"change","content":{"oldRange":[[25,239],[25,240]],"newRange":[[25,239],[25,239]],"oldText":".","newText":""}},{"type":"change","content":{"oldRange":[[25,239],[25,239]],"newRange":[[25,239],[25,254]],"oldText":"","newText":".sum('dr - cr')"}},{"type":"group-end","snapshot":{"0":{"range":[[26,0],[26,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"checkpoint","id":1784,"snapshot":{"0":{"range":[[26,6],[26,6]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"isBoundary":false},{"type":"group-start","snapshot":{"0":{"range":[[26,6],[26,6]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[26,5],[26,6]],"newRange":[[26,5],[26,5]],"oldText":"l","newText":""}},{"type":"change","content":{"oldRange":[[26,4],[26,5]],"newRange":[[26,4],[26,4]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[26,3],[26,4]],"newRange":[[26,3],[26,3]],"oldText":"n","newText":""}},{"type":"change","content":{"oldRange":[[26,3],[26,3]],"newRange":[[26,3],[26,5]],"oldText":"","newText":"\"\""}},{"type":"change","content":{"oldRange":[[26,4],[26,4]],"newRange":[[26,4],[26,5]],"oldText":"","newText":"0"}},{"type":"group-end","snapshot":{"0":{"range":[[26,5],[26,5]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"checkpoint","id":1796,"snapshot":{"0":{"range":[[29,4],[29,4]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"isBoundary":false},{"type":"group-start","snapshot":{"0":{"range":[[29,4],[29,4]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[29,375],[29,376]],"newRange":[[29,375],[29,375]],"oldText":"t","newText":""}},{"type":"change","content":{"oldRange":[[29,374],[29,375]],"newRange":[[29,374],[29,374]],"oldText":"s","newText":""}},{"type":"change","content":{"oldRange":[[29,373],[29,374]],"newRange":[[29,373],[29,373]],"oldText":"r","newText":""}},{"type":"change","content":{"oldRange":[[29,372],[29,373]],"newRange":[[29,372],[29,372]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[29,371],[29,372]],"newRange":[[29,371],[29,371]],"oldText":"f","newText":""}},{"type":"change","content":{"oldRange":[[29,371],[29,371]],"newRange":[[29,371],[29,385]],"oldText":"","newText":"sum('dr - cr')"}},{"type":"group-end","snapshot":{"0":{"range":[[31,0],[31,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"checkpoint","id":1824,"snapshot":{"0":{"range":[[30,6],[30,6]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"isBoundary":false},{"type":"group-start","snapshot":{"0":{"range":[[30,6],[30,6]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[30,5],[30,6]],"newRange":[[30,5],[30,5]],"oldText":"l","newText":""}},{"type":"change","content":{"oldRange":[[30,4],[30,5]],"newRange":[[30,4],[30,4]],"oldText":"i","newText":""}},{"type":"change","content":{"oldRange":[[30,3],[30,4]],"newRange":[[30,3],[30,3]],"oldText":"n","newText":""}},{"type":"change","content":{"oldRange":[[30,3],[30,3]],"newRange":[[30,3],[30,5]],"oldText":"","newText":"\"\""}},{"type":"change","content":{"oldRange":[[30,4],[30,4]],"newRange":[[30,4],[30,5]],"oldText":"","newText":"0"}},{"type":"group-end","snapshot":{"0":{"range":[[30,5],[30,5]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"checkpoint","id":1836,"snapshot":{"0":{"range":[[30,6],[30,6]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"isBoundary":false},{"type":"group-start","snapshot":{"0":{"range":[[30,6],[30,6]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[30,6],[30,6]],"newRange":[[30,6],[31,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[31,0],[31,0]],"newRange":[[31,0],[31,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[31,0],[31,0]],"newRange":[[31,0],[31,1]],"oldText":"","newText":"="}},{"type":"change","content":{"oldRange":[[31,1],[31,1]],"newRange":[[31,1],[31,2]],"oldText":"","newText":">"}},{"type":"change","content":{"oldRange":[[31,2],[31,2]],"newRange":[[31,2],[31,3]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[31,3],[31,3]],"newRange":[[31,3],[31,505]],"oldText":"","newText":" \"SELECT `ledger_entries`.* FROM `ledger_entries` INNER JOIN `transactions` ON `transactions`.`id` = `ledger_entries`.`transaction_id` INNER JOIN `transaction_types` ON `transaction_types`.`id` = `transactions`.`transaction_type_id` WHERE `ledger_entries`.`business_id` = 1 AND `ledger_entries`.`corrected_with_updated` = 0 AND `ledger_entries`.`corrected_with_updated` = 0 AND (NOT transactions.is_corrected) AND (transactions.origin_type <> 'AdvancedUk::Correction') ORDER BY ledger_entries.date ASC\""}},{"type":"group-end","snapshot":{"0":{"range":[[31,505],[31,505]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"checkpoint","id":1845,"snapshot":{"0":{"range":[[33,12],[33,12]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"isBoundary":false},{"type":"group-start","snapshot":{"0":{"range":[[33,12],[33,12]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[53,99],[53,99]],"newRange":[[53,99],[54,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[54,0],[54,0]],"newRange":[[54,0],[54,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[54,0],[54,0]],"newRange":[[54,0],[54,1]],"oldText":"","newText":"="}},{"type":"change","content":{"oldRange":[[54,1],[54,1]],"newRange":[[54,1],[54,2]],"oldText":"","newText":">"}},{"type":"change","content":{"oldRange":[[54,2],[54,2]],"newRange":[[54,2],[54,3]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[54,3],[54,3]],"newRange":[[54,3],[54,505]],"oldText":"","newText":"\"SELECT `ledger_entries`.* FROM `ledger_entries` INNER JOIN `transactions` ON `transactions`.`id` = `ledger_entries`.`transaction_id` INNER JOIN `transaction_types` ON `transaction_types`.`id` = `transactions`.`transaction_type_id` WHERE `ledger_entries`.`business_id` = 1 AND (NOT transactions.is_corrected) AND `ledger_entries`.`corrected_with_updated` = 0 AND `ledger_entries`.`corrected_with_updated` = 0 AND (transactions.origin_type <> 'AdvancedUk::Correction')  ORDER BY ledger_entries.date ASC\""}},{"type":"change","content":{"oldRange":[[53,99],[53,99]],"newRange":[[53,99],[54,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[54,0],[54,0]],"newRange":[[54,0],[54,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[54,0],[54,0]],"newRange":[[54,0],[54,2]],"oldText":"","newText":"()"}},{"type":"change","content":{"oldRange":[[54,1],[54,1]],"newRange":[[54,1],[54,2]],"oldText":"","newText":"Q"}},{"type":"change","content":{"oldRange":[[54,2],[54,2]],"newRange":[[54,2],[54,3]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[54,3],[54,3]],"newRange":[[54,3],[54,4]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[54,4],[54,4]],"newRange":[[54,4],[54,5]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[54,5],[54,5]],"newRange":[[54,5],[54,6]],"oldText":"","newText":"y"}},{"type":"change","content":{"oldRange":[[54,6],[54,6]],"newRange":[[54,6],[54,7]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[54,7],[54,7]],"newRange":[[54,7],[54,8]],"oldText":"","newText":"w"}},{"type":"change","content":{"oldRange":[[54,8],[54,8]],"newRange":[[54,8],[54,9]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[54,9],[54,9]],"newRange":[[54,9],[54,10]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[54,10],[54,10]],"newRange":[[54,10],[54,11]],"oldText":"","newText":"h"}},{"type":"change","content":{"oldRange":[[54,11],[54,11]],"newRange":[[54,11],[54,12]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[54,12],[54,12]],"newRange":[[54,12],[54,13]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[54,13],[54,13]],"newRange":[[54,13],[54,14]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[54,14],[54,14]],"newRange":[[54,14],[54,15]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[54,15],[54,15]],"newRange":[[54,15],[54,16]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[54,16],[54,16]],"newRange":[[54,16],[54,17]],"oldText":"","newText":"h"}},{"type":"change","content":{"oldRange":[[54,17],[54,17]],"newRange":[[54,17],[54,18]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[54,18],[54,18]],"newRange":[[54,18],[54,19]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[54,19],[54,19]],"newRange":[[54,19],[54,20]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[54,20],[54,20]],"newRange":[[54,20],[54,21]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[54,21],[54,21]],"newRange":[[54,21],[54,22]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[30,6],[30,6]],"newRange":[[30,6],[31,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[31,0],[31,0]],"newRange":[[31,0],[31,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[31,0],[31,0]],"newRange":[[31,0],[31,23]],"oldText":"","newText":"(Query without the sum)"}},{"type":"change","content":{"oldRange":[[9,112],[9,112]],"newRange":[[9,112],[10,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[10,0],[10,0]],"newRange":[[10,0],[10,2]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,2],[10,2]],"newRange":[[10,2],[11,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[11,0],[11,0]],"newRange":[[11,0],[11,2]],"oldText":"","newText":"  "}},{"type":"change","content":{"oldRange":[[10,0],[10,2]],"newRange":[[10,0],[10,0]],"oldText":"  ","newText":""}},{"type":"change","content":{"oldRange":[[11,0],[11,2]],"newRange":[[11,0],[11,0]],"oldText":"  ","newText":""}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[35,1]],"oldText":"","newText":"A"}},{"type":"change","content":{"oldRange":[[35,0],[35,1]],"newRange":[[35,0],[35,0]],"oldText":"A","newText":""}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[36,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[36,0],[36,0]],"newRange":[[36,0],[36,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[35,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[36,0],[36,0]],"newRange":[[36,0],[37,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[37,0],[37,0]],"newRange":[[37,0],[37,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[36,0],[36,0]],"newRange":[[36,0],[36,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[37,0],[37,0]],"newRange":[[37,0],[38,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[38,0],[38,0]],"newRange":[[38,0],[38,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[37,0],[37,0]],"newRange":[[37,0],[37,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[38,0],[38,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[39,0],[44,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[39,0],[44,0]],"newRange":[[39,0],[39,0]],"oldText":"1 + 2 + 3 + 4\ntransaction_type_ids = [1,2]\n@business.sales_day_book_entries.joins(:transaction).where(\"NOT transactions.is_corrected\").where(:corrected_with_updated => false).where(:corrected_with_updated => false).where('transactions.origin_type <> ?', AdvancedUk::Correction.name).joins(:transaction => [:transaction_type]).includes(:transaction => [:transaction_type, :origin]).order('ledger_entries.date ASC').joins(\"LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id\").where(\"transactions.transaction_type_id IN (?) AND is_allocator = true\", transaction_type_ids).first\n=> nil\n=> \"SELECT `ledger_entries`.* FROM `ledger_entries` INNER JOIN `transactions` ON `transactions`.`id` = `ledger_entries`.`transaction_id` INNER JOIN `transaction_types` ON `transaction_types`.`id` = `transactions`.`transaction_type_id` LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id WHERE `ledger_entries`.`business_id` = 1 AND `ledger_entries`.`corrected_with_updated` = 0 AND `ledger_entries`.`corrected_with_updated` = 0 AND (NOT transactions.is_corrected) AND (transactions.origin_type <> 'AdvancedUk::Correction') AND (transactions.transaction_type_id IN (21) AND is_allocator = true) ORDER BY ledger_entries.date ASC\"\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[39,0],[39,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[38,0],[39,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[38,0],[39,0]],"newRange":[[38,0],[38,0]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[38,0],[38,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[38,0],[39,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[38,0],[39,0]],"newRange":[[38,0],[38,0]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[38,0],[38,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[59,0],[64,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[59,0],[64,0]],"newRange":[[59,0],[59,0]],"oldText":"1 + 2 + 3 + 4\ntransaction_type_ids = [1,2]\n@business.sales_day_book_entries.joins(:transaction_record).where(\"NOT transactions.is_corrected\").where(:corrected_with_updated => false).where(:corrected_with_updated => false).where('transactions.origin_type <> ?', AdvancedUk::Correction.name).joins(:transaction_record => [:transaction_type]).includes(:transaction_record => [:transaction_type, :origin]).order('ledger_entries.date ASC').joins(\"LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id\").where(\"transactions.transaction_type_id IN (?) AND is_allocator = true\", transaction_type_ids).first\n=> nil\n=> \"SELECT `ledger_entries`.* FROM `ledger_entries` INNER JOIN `transactions` ON `transactions`.`id` = `ledger_entries`.`transaction_id` INNER JOIN `transaction_types` ON `transaction_types`.`id` = `transactions`.`transaction_type_id` LEFT OUTER JOIN artefacts ON artefacts.id = transactions.origin_id WHERE `ledger_entries`.`business_id` = 1 AND (NOT transactions.is_corrected) AND `ledger_entries`.`corrected_with_updated` = 0 AND `ledger_entries`.`corrected_with_updated` = 0 AND (transactions.origin_type <> 'AdvancedUk::Correction') AND (transactions.transaction_type_id IN (21) AND is_allocator = true)  ORDER BY ledger_entries.date ASC\"\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[59,0],[59,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[58,0],[59,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[58,0],[59,0]],"newRange":[[58,0],[58,0]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[58,0],[58,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[58,0],[58,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[57,0],[58,0]],"newRange":[[57,0],[57,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[56,0],[57,0]],"newRange":[[56,0],[56,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[55,0],[56,0]],"newRange":[[55,0],[55,0]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[55,0],[55,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"checkpoint","id":1910,"snapshot":{"0":{"range":[[0,0],[0,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"isBoundary":false},{"type":"group-start","snapshot":{"0":{"range":[[0,0],[0,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[0,0],[1,0]],"newRange":[[0,0],[0,0]],"oldText":"transaction_type_ids = [1,2]\n","newText":""}},{"type":"change","content":{"oldRange":[[0,0],[1,0]],"newRange":[[0,0],[0,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[52,505],[52,505]],"newRange":[[52,505],[53,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[53,0],[53,0]],"newRange":[[53,0],[53,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[53,0],[53,0]],"newRange":[[53,0],[54,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[54,0],[54,0]],"newRange":[[54,0],[54,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[53,0],[53,0]],"newRange":[[53,0],[53,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[54,0],[54,0]],"newRange":[[54,0],[55,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[55,0],[55,0]],"newRange":[[55,0],[55,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[54,0],[54,0]],"newRange":[[54,0],[54,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[55,0],[55,0]],"newRange":[[55,0],[56,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[56,0],[56,0]],"newRange":[[56,0],[56,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[55,0],[55,0]],"newRange":[[55,0],[55,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[56,0],[56,0]],"newRange":[[56,0],[57,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[57,0],[57,0]],"newRange":[[57,0],[57,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[56,0],[56,0]],"newRange":[[56,0],[56,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[57,0],[57,0]],"newRange":[[57,0],[58,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[58,0],[58,0]],"newRange":[[58,0],[58,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[57,0],[57,0]],"newRange":[[57,0],[57,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[58,0],[58,0]],"newRange":[[58,0],[58,406]],"oldText":"","newText":"@business.sales_day_book_entries.joins(:transaction_record).where(\"NOT transactions.is_corrected\").where(:corrected_with_updated => false).where(:corrected_with_updated => false).where('transactions.origin_type <> ?', AdvancedUk::Correction.name).joins(:transaction_record => [:transaction_type]).includes(:transaction_record => [:transaction_type, :origin]).order('ledger_entries.date ASC').sum('dr - cr')"}},{"type":"change","content":{"oldRange":[[58,0],[58,406]],"newRange":[[58,0],[58,0]],"oldText":"@business.sales_day_book_entries.joins(:transaction_record).where(\"NOT transactions.is_corrected\").where(:corrected_with_updated => false).where(:corrected_with_updated => false).where('transactions.origin_type <> ?', AdvancedUk::Correction.name).joins(:transaction_record => [:transaction_type]).includes(:transaction_record => [:transaction_type, :origin]).order('ledger_entries.date ASC').sum('dr - cr')","newText":""}},{"type":"change","content":{"oldRange":[[56,0],[56,0]],"newRange":[[56,0],[56,406]],"oldText":"","newText":"@business.sales_day_book_entries.joins(:transaction_record).where(\"NOT transactions.is_corrected\").where(:corrected_with_updated => false).where(:corrected_with_updated => false).where('transactions.origin_type <> ?', AdvancedUk::Correction.name).joins(:transaction_record => [:transaction_type]).includes(:transaction_record => [:transaction_type, :origin]).order('ledger_entries.date ASC').sum('dr - cr')"}},{"type":"change","content":{"oldRange":[[56,347],[56,356]],"newRange":[[56,347],[56,347]],"oldText":", :origin","newText":""}},{"type":"change","content":{"oldRange":[[58,0],[59,0]],"newRange":[[58,0],[58,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[57,0],[58,0]],"newRange":[[57,0],[57,0]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[8,0],[8,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"checkpoint","id":1943,"snapshot":{"0":{"range":[[0,113],[0,113]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"isBoundary":false},{"type":"group-start","snapshot":{"0":{"range":[[22,47],[22,47]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[22,47],[22,47]],"newRange":[[22,47],[23,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[23,0],[23,0]],"newRange":[[23,0],[23,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[23,0],[23,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[23,0],[23,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[23,0],[23,0]],"newRange":[[23,0],[23,1]],"oldText":"","newText":"="}},{"type":"group-end","snapshot":{"0":{"range":[[23,1],[23,1]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[23,1],[23,1]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[23,1],[23,1]],"newRange":[[23,1],[23,2]],"oldText":"","newText":"?"}},{"type":"group-end","snapshot":{"0":{"range":[[23,2],[23,2]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[23,2],[23,2]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[23,1],[23,2]],"newRange":[[23,1],[23,1]],"oldText":"?","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[23,1],[23,1]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[23,1],[23,1]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[23,1],[23,1]],"newRange":[[23,1],[23,2]],"oldText":"","newText":">"}},{"type":"change","content":{"oldRange":[[23,2],[23,2]],"newRange":[[23,2],[23,3]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[23,3],[23,3]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[23,3],[23,3]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[23,3],[23,3]],"newRange":[[23,3],[23,4]],"oldText":"","newText":"0"}},{"type":"group-end","snapshot":{"0":{"range":[[23,4],[23,4]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[57,397],[57,397]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[57,397],[57,397]],"newRange":[[57,397],[58,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[58,0],[58,0]],"newRange":[[58,0],[58,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[58,0],[58,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[58,0],[58,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[58,0],[58,0]],"newRange":[[58,0],[59,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[59,0],[59,0]],"newRange":[[59,0],[59,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[58,0],[58,0]],"newRange":[[58,0],[58,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[59,0],[59,0]],"newRange":[[59,0],[60,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[60,0],[60,0]],"newRange":[[60,0],[60,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[59,0],[59,0]],"newRange":[[59,0],[59,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[60,0],[60,0]],"newRange":[[60,0],[61,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[61,0],[61,0]],"newRange":[[61,0],[61,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[60,0],[60,0]],"newRange":[[60,0],[60,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[61,0],[61,0]],"newRange":[[61,0],[62,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[62,0],[62,0]],"newRange":[[62,0],[62,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[61,0],[61,0]],"newRange":[[61,0],[61,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[62,0],[62,0]],"newRange":[[62,0],[63,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[63,0],[63,0]],"newRange":[[63,0],[63,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[62,0],[62,0]],"newRange":[[62,0],[62,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[63,0],[63,0]],"newRange":[[63,0],[64,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[64,0],[64,0]],"newRange":[[64,0],[64,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[63,0],[63,0]],"newRange":[[63,0],[63,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[64,0],[64,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[64,0],[64,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[64,0],[64,0]],"newRange":[[64,0],[65,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[65,0],[65,0]],"newRange":[[65,0],[65,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[64,0],[64,0]],"newRange":[[64,0],[64,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[65,0],[65,0]],"newRange":[[65,0],[66,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[66,0],[66,0]],"newRange":[[66,0],[66,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[65,0],[65,0]],"newRange":[[65,0],[65,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[66,0],[66,0]],"newRange":[[66,0],[67,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[67,0],[67,0]],"newRange":[[67,0],[67,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[66,0],[66,0]],"newRange":[[66,0],[66,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[67,0],[67,0]],"newRange":[[67,0],[68,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[68,0],[68,0]],"newRange":[[68,0],[68,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[67,0],[67,0]],"newRange":[[67,0],[67,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[68,0],[68,0]],"newRange":[[68,0],[69,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[69,0],[69,0]],"newRange":[[69,0],[69,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[68,0],[68,0]],"newRange":[[68,0],[68,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[69,0],[69,0]],"newRange":[[69,0],[70,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[70,0],[70,0]],"newRange":[[70,0],[70,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[69,0],[69,0]],"newRange":[[69,0],[69,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[70,0],[70,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[70,0],[70,0]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[70,0],[70,0]],"newRange":[[70,0],[79,3]],"oldText":"","newText":"[1] pry(#<AdvancedUk::SalesDayBookReport>)> show-source totals.sum\n\nFrom: /Users/victor.martins/.rbenv/versions/2.1.5/lib/ruby/gems/2.1.0/gems/activerecord-4.2.4/lib/active_record/relation/calculations.rb @ line 82:\nOwner: ActiveRecord::Calculations\nVisibility: public\nNumber of lines: 3\n\ndef sum(*args)\n  calculate(:sum, *args)\nend"}},{"type":"change","content":{"oldRange":[[70,0],[70,0]],"newRange":[[70,0],[70,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[79,3],[79,3]],"properties":{"type":"selection","editorId":12,"goalScreenRange":null,"autoscroll":false,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}}],"redoStack":[]},"encoding":"utf8","filePath":"/Users/victor.martins/Desktop/investigating","digestWhenLastPersisted":"b3106cdd27ba1dbb6338d1fb0570e0839804cbd9","preferredLineEnding":null,"deserializer":"TextBuffer","version":2}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"id":3,"items":[{"id":12,"softTabs":true,"displayBuffer":{"id":13,"softWrapped":false,"scrollTop":854,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/victor.martins/Desktop/investigating","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"}],"activeItemURI":"/Users/victor.martins/Desktop/investigating","focused":true,"flexScale":1,"deserializer":"Pane"},"activePaneId":3,"deserializer":"PaneContainer","version":1},"fullScreen":false,"packagesWithActiveGrammars":["language-hyperlink","language-todo"],"deserializer":"Workspace"},"packageStates":{"fuzzy-finder":{"/Users/victor.martins/Desktop/investigating":1446470601882},"metrics":{"sessionLength":12124},"tabs":[{}],"tree-view":{"directoryExpansionStates":{"/Users/victor.martins/Desktop":{"isExpanded":true,"entries":{"fotos":{"isExpanded":false,"entries":{}},"Library":{"isExpanded":false,"entries":{}},"my stuff":{"isExpanded":false,"entries":{}},"pen stuff":{"isExpanded":false,"entries":{}},"Temp":{"isExpanded":false,"entries":{}}}}},"selectedPath":"/Users/victor.martins/Desktop/investigating","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}}}